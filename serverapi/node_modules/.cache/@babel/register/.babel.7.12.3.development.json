{
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\promoters.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\routes\\promoters.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\routes\\promoters.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\routes\\promoters.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
        "sourceFileName": "promoters.js"
      }
    },
    "ast": null,
    "code": "var express = require('express');\n\nvar router = express.Router();\n\nvar mongoose = require('mongoose');\n\nconst promoter = require('../models/promoters'); //const email = require('../config/email');\n//const nodemailer = require('nodemailer');\n\n\nvar passwordHash = require('password-hash'); //process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"1\";\n\n\nrouter.post('/register', function (req, res) {\n  console.log(req.body.promoter_signup);\n  var promoterCreate = new promoter.promoters(req.body.promoter_signup);\n  var datetime = new Date();\n  let pass = passwordHash.generate(req.body.promoter_signup.password);\n  promoterCreate.joindate = datetime;\n  promoterCreate.password = pass;\n  promoter.promoters.findOne({\n    email: req.body.promoter_signup.email\n  }, function (err, promoters) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      msg: err\n    });\n\n    if (promoters) {\n      console.log(promoters);\n      res.json({\n        status: \"failure\",\n        statusCode: 100,\n        msg: \"Email already exists!!\"\n      });\n    } else {\n      promoter.promoters.findOne({\n        name: req.body.promoter_signup.name\n      }, function (err, promoters) {\n        if (err) res.json({\n          status: \"failure\",\n          statusCode: 100,\n          msg: err\n        });\n\n        if (promoters) {\n          console.log(promoters);\n          res.json({\n            status: \"failure\",\n            statusCode: 100,\n            msg: \"Username already exists!!\"\n          });\n        } else {\n          promoterCreate.save(function (err, promoter) {\n            if (err) res.json({\n              status: \"failure\",\n              statusCode: 100,\n              msg: err\n            });\n            res.json({\n              status: \"success\",\n              statusCode: 200,\n              data: promoter,\n              msg: \"Signup & SignIn successfully!\"\n            });\n          });\n        }\n      });\n    }\n  });\n});\nrouter.post('/singlePromoter', function (req, res) {\n  promoter.promoters.find({\n    _id: req.body.id\n  }, function (err, promoter_data) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      error: err\n    });\n    res.json({\n      status: \"success\",\n      statusCode: 200,\n      data: promoter_data\n    });\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb21vdGVycy5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIm1vbmdvb3NlIiwicHJvbW90ZXIiLCJwYXNzd29yZEhhc2giLCJwb3N0IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJwcm9tb3Rlcl9zaWdudXAiLCJwcm9tb3RlckNyZWF0ZSIsInByb21vdGVycyIsImRhdGV0aW1lIiwiRGF0ZSIsInBhc3MiLCJnZW5lcmF0ZSIsInBhc3N3b3JkIiwiam9pbmRhdGUiLCJmaW5kT25lIiwiZW1haWwiLCJlcnIiLCJqc29uIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsIm1zZyIsIm5hbWUiLCJzYXZlIiwiZGF0YSIsImZpbmQiLCJfaWQiLCJpZCIsInByb21vdGVyX2RhdGEiLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYjs7QUFDQSxJQUFJQyxRQUFRLEdBQUdILE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1JLFFBQVEsR0FBR0osT0FBTyxDQUFDLHFCQUFELENBQXhCLEMsQ0FDQTtBQUNBOzs7QUFDQSxJQUFJSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQyxlQUFELENBQTFCLEMsQ0FFQTs7O0FBRUFDLE1BQU0sQ0FBQ0ssSUFBUCxDQUFZLFdBQVosRUFBeUIsVUFBU0MsR0FBVCxFQUFhQyxHQUFiLEVBQWtCO0FBQzNDQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBRyxDQUFDSSxJQUFKLENBQVNDLGVBQXJCO0FBQ00sTUFBSUMsY0FBYyxHQUFJLElBQUlULFFBQVEsQ0FBQ1UsU0FBYixDQUF1QlAsR0FBRyxDQUFDSSxJQUFKLENBQVNDLGVBQWhDLENBQXRCO0FBRUEsTUFBSUcsUUFBUSxHQUFH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SixFQUFVZixHQUFHLENBQUNnQixJQUFKLENBQVM7QUFBQ0MsTUFBQUEsTUFBTSxFQUFDLFNBQVI7QUFBa0JDLE1BQUFBLFVBQVUsRUFBQyxHQUE3QjtBQUFpQ1MsTUFBQUEsS0FBSyxFQUFDWjtBQUF2QyxLQUFUO0FBQ1ZmLElBQUFBLEdBQUcsQ0FBQ2dCLElBQUosQ0FBUztBQUFDQyxNQUFBQSxNQUFNLEVBQUMsU0FBUjtBQUFrQkMsTUFBQUEsVUFBVSxFQUFDLEdBQTdCO0FBQWlDSSxNQUFBQSxJQUFJLEVBQUNJO0FBQXRDLEtBQVQ7QUFDRCxHQUhEO0FBSUQsQ0FMRDtBQU9BRSxNQUFNLENBQUNDLE9BQVAsR0FBaUJwQyxNQUFqQiIsInNvdXJjZVJvb3QiOiJFOlxcYm9vbWFkdmVydGlzZW1lbnRcXHNlcnZlcmFwaVxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJcclxudmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG52YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBwcm9tb3RlciA9IHJlcXVpcmUoJy4uL21vZGVscy9wcm9tb3RlcnMnKTtcclxuLy9jb25zdCBlbWFpbCA9IHJlcXVpcmUoJy4uL2NvbmZpZy9lbWFpbCcpO1xyXG4vL2NvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKCdub2RlbWFpbGVyJyk7XHJcbnZhciBwYXNzd29yZEhhc2ggPSByZXF1aXJlKCdwYXNzd29yZC1oYXNoJyk7XHJcblxyXG4vL3Byb2Nlc3MuZW52Lk5PREVfVExTX1JFSkVDVF9VTkFVVEhPUklaRUQgPSBcIjFcIjtcclxuXHJcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBmdW5jdGlvbihyZXEscmVzKSB7XHJcbmNvbnNvbGUubG9nKHJlcS5ib2R5LnByb21vdGVyX3NpZ251cCk7XHJcbiAgICAgIHZhciBwcm9tb3RlckNyZWF0ZSA9ICBuZXcgcHJvbW90ZXIucHJvbW90ZXJzKHJlcS5ib2R5LnByb21vdGVyX3NpZ251cCk7XHJcblxyXG4gICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBsZXQgcGFzcyA9IHBhc3N3b3JkSGFzaC5nZW5lcmF0ZShyZXEuYm9keS5wcm9tb3Rlcl9zaWdudXAucGFzc3dvcmQpXHJcblxyXG4gICAgICBwcm9tb3RlckNyZWF0ZS5qb2luZGF0ZSA9IGRhdGV0aW1lXHJcbiAgICAgIHByb21vdGVyQ3JlYXRlLnBhc3N3b3JkID0gcGFzc1xyXG4gICAgICBcclxuICAgICAgcHJvbW90ZXIucHJvbW90ZXJzLmZpbmRPbmUoe2VtYWlsOnJlcS5ib2R5LnByb21vdGVyX3NpZ251cC5lbWFpbH0sIGZ1bmN0aW9uKGVyciwgcHJvbW90ZXJzKSB7XHJcbiAgICAgICAgaWYgKGVycikgIHJlcy5qc29uKHtzdGF0dXM6XCJmYWlsdXJlXCIsc3RhdHVzQ29kZToxMDAsbXNnOmVycn0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHByb21vdGVycyl7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhwcm9tb3RlcnMpXHJcbiAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzpcIkVtYWlsIGFscmVhZHkgZXhpc3RzISFcIn0pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBwcm9tb3Rlci5wcm9tb3RlcnMuZmluZE9uZSh7bmFtZTpyZXEuYm9keS5wcm9tb3Rlcl9zaWdudXAubmFtZX0sIGZ1bmN0aW9uKGVyciwgcHJvbW90ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzplcnJ9KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYocHJvbW90ZXJzKXtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9tb3RlcnMpXHJcbiAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6XCJVc2VybmFtZSBhbHJlYWR5IGV4aXN0cyEhXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcHJvbW90ZXJDcmVhdGUuc2F2ZShmdW5jdGlvbiAoZXJyLCBwcm9tb3Rlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcInN1Y2Nlc3NcIixzdGF0dXNDb2RlOjIwMCxkYXRhOnByb21vdGVyLG1zZzpcIlNpZ251cCAmIFNpZ25JbiBzdWNjZXNzZnVsbHkhXCJ9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pOyBcclxuICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICByb3V0ZXIucG9zdCgnL3NpbmdsZVByb21vdGVyJywgZnVuY3Rpb24ocmVxLCByZXMpIHtcclxuICAgICAgcHJvbW90ZXIucHJvbW90ZXJzLmZpbmQoe19pZDpyZXEuYm9keS5pZH0sIGZ1bmN0aW9uKGVyciwgcHJvbW90ZXJfZGF0YSkge1xyXG4gICAgICAgIGlmIChlcnIpICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLGVycm9yOmVycn0pO1xyXG4gICAgICAgIHJlcy5qc29uKHtzdGF0dXM6XCJzdWNjZXNzXCIsc3RhdHVzQ29kZToyMDAsZGF0YTpwcm9tb3Rlcl9kYXRhfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "promoters.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "mongoose",
        "promoter",
        "passwordHash",
        "post",
        "req",
        "res",
        "console",
        "log",
        "body",
        "promoter_signup",
        "promoterCreate",
        "promoters",
        "datetime",
        "Date",
        "pass",
        "generate",
        "password",
        "joindate",
        "findOne",
        "email",
        "err",
        "json",
        "status",
        "statusCode",
        "msg",
        "name",
        "save",
        "data",
        "find",
        "_id",
        "id",
        "promoter_data",
        "error",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "sourcesContent": [
        "\r\nvar express = require('express');\r\nvar router = express.Router();\r\nvar mongoose = require('mongoose');\r\nconst promoter = require('../models/promoters');\r\n//const email = require('../config/email');\r\n//const nodemailer = require('nodemailer');\r\nvar passwordHash = require('password-hash');\r\n\r\n//process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"1\";\r\n\r\nrouter.post('/register', function(req,res) {\r\nconsole.log(req.body.promoter_signup);\r\n      var promoterCreate =  new promoter.promoters(req.body.promoter_signup);\r\n\r\n      var datetime = new Date();\r\n      let pass = passwordHash.generate(req.body.promoter_signup.password)\r\n\r\n      promoterCreate.joindate = datetime\r\n      promoterCreate.password = pass\r\n      \r\n      promoter.promoters.findOne({email:req.body.promoter_signup.email}, function(err, promoters) {\r\n        if (err)  res.json({status:\"failure\",statusCode:100,msg:err});\r\n        \r\n        if(promoters){\r\n          console.log(promoters)\r\n          res.json({status:\"failure\",statusCode:100,msg:\"Email already exists!!\"});\r\n        }else{\r\n            promoter.promoters.findOne({name:req.body.promoter_signup.name}, function(err, promoters) {\r\n            if (err)  res.json({status:\"failure\",statusCode:100,msg:err});\r\n        \r\n            if(promoters){\r\n              console.log(promoters)\r\n              res.json({status:\"failure\",statusCode:100,msg:\"Username already exists!!\"});\r\n            }\r\n            else{\r\n                promoterCreate.save(function (err, promoter) {\r\n                if (err) res.json({status:\"failure\",statusCode:100,msg:err});\r\n            \r\n                res.json({status:\"success\",statusCode:200,data:promoter,msg:\"Signup & SignIn successfully!\"});\r\n              });\r\n            }\r\n          })\r\n        }\r\n      }); \r\n      \r\n    });\r\n\r\n    router.post('/singlePromoter', function(req, res) {\r\n      promoter.promoters.find({_id:req.body.id}, function(err, promoter_data) {\r\n        if (err)  res.json({status:\"failure\",statusCode:100,error:err});\r\n        res.json({status:\"success\",statusCode:200,data:promoter_data});\r\n      });\r\n    });\r\n\r\n    module.exports = router;"
      ]
    },
    "sourceType": "module",
    "mtime": 1609337236000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\promoters.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\models\\promoters.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\models\\promoters.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\models\\promoters.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
        "sourceFileName": "promoters.js"
      }
    },
    "ast": null,
    "code": "var mongoose = require('mongoose');\n\nconst Schema = mongoose.Schema;\nconst promotersSchema = new Schema({\n  id: Boolean,\n  // String is shorthand for {type: String}\n  name: String,\n  email: String,\n  password: String,\n  joindate: Date\n});\nconst promoters = mongoose.model('promoters', promotersSchema);\nmodule.exports = {\n  promoters,\n  promotersSchema\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb21vdGVycy5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJwcm9tb3RlcnNTY2hlbWEiLCJpZCIsIkJvb2xlYW4iLCJuYW1lIiwiU3RyaW5nIiwiZW1haWwiLCJwYXNzd29yZCIsImpvaW5kYXRlIiwiRGF0ZSIsInByb21vdGVycyIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBeEI7QUFFQSxNQUFNQyxlQUFlLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQ2pDRSxFQUFBQSxFQUFFLEVBQUdDLE9BRDRCO0FBQ25CO0FBQ2RDLEVBQUFBLElBQUksRUFBRUMsTUFGMkI7QUFHakNDLEVBQUFBLEtBQUssRUFBSUQsTUFId0I7QUFJakNFLEVBQUFBLFFBQVEsRUFBSUYsTUFKcUI7QUFLakNHLEVBQUFBLFFBQVEsRUFBSUM7QUFMcUIsQ0FBWCxDQUF4QjtBQU9BLE1BQU9DLFNBQVMsR0FBR1osUUFBUSxDQUFDYSxLQUFULENBQWUsV0FBZixFQUE0QlYsZUFBNUIsQ0FBbkI7QUFDQVcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUVILEVBQUFBLFNBQUY7QUFBWVQsRUFBQUE7QUFBWixDQUFqQiIsInNvdXJjZVJvb3QiOiJFOlxcYm9vbWFkdmVydGlzZW1lbnRcXHNlcnZlcmFwaVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBwcm9tb3RlcnNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBpZDogIEJvb2xlYW4sIC8vIFN0cmluZyBpcyBzaG9ydGhhbmQgZm9yIHt0eXBlOiBTdHJpbmd9XHJcbiAgbmFtZTogU3RyaW5nLFxyXG4gIGVtYWlsOiAgIFN0cmluZyxcclxuICBwYXNzd29yZDogICBTdHJpbmcsXHJcbiAgam9pbmRhdGU6ICAgRGF0ZVxyXG59KTtcclxuY29uc3QgIHByb21vdGVycyA9IG1vbmdvb3NlLm1vZGVsKCdwcm9tb3RlcnMnLCBwcm9tb3RlcnNTY2hlbWEpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHsgcHJvbW90ZXJzLHByb21vdGVyc1NjaGVtYSB9IDsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "promoters.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "promotersSchema",
        "id",
        "Boolean",
        "name",
        "String",
        "email",
        "password",
        "joindate",
        "Date",
        "promoters",
        "model",
        "module",
        "exports"
      ],
      "mappings": "AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,MAAMC,eAAe,GAAG,IAAID,MAAJ,CAAW;AACjCE,EAAAA,EAAE,EAAGC,OAD4B;AACnB;AACdC,EAAAA,IAAI,EAAEC,MAF2B;AAGjCC,EAAAA,KAAK,EAAID,MAHwB;AAIjCE,EAAAA,QAAQ,EAAIF,MAJqB;AAKjCG,EAAAA,QAAQ,EAAIC;AALqB,CAAX,CAAxB;AAOA,MAAOC,SAAS,GAAGZ,QAAQ,CAACa,KAAT,CAAe,WAAf,EAA4BV,eAA5B,CAAnB;AACAW,MAAM,CAACC,OAAP,GAAiB;AAAEH,EAAAA,SAAF;AAAYT,EAAAA;AAAZ,CAAjB",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "sourcesContent": [
        "var mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst promotersSchema = new Schema({\r\n  id:  Boolean, // String is shorthand for {type: String}\r\n  name: String,\r\n  email:   String,\r\n  password:   String,\r\n  joindate:   Date\r\n});\r\nconst  promoters = mongoose.model('promoters', promotersSchema);\r\nmodule.exports = { promoters,promotersSchema } ;"
      ]
    },
    "sourceType": "module",
    "mtime": 1608315962000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\workers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\routes\\workers.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\routes\\workers.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\routes\\workers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
        "sourceFileName": "workers.js"
      }
    },
    "ast": null,
    "code": "var express = require('express');\n\nvar router = express.Router();\n\nvar mongoose = require('mongoose');\n\nconst worker = require('../models/workers');\n\nconst email = require('../config/email');\n\nconst nodemailer = require('nodemailer');\n\nvar passwordHash = require('password-hash'); //process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"1\";\n\n\nvar sendEmail = function (to, subject, html) {\n  return new Promise(function (resolve, reject) {\n    var transporter = nodemailer.createTransport({\n      service: 'gmail',\n      port: 587,\n      secure: false,\n      auth: {\n        user: email.email,\n        pass: email.password\n      }\n    });\n    var mailOptions = {\n      from: 'faanmanagement@gmail.com  <http://boomadvertise.com/>',\n      to: to,\n      subject: subject,\n      html: html\n    };\n    transporter.sendMail(mailOptions, function (error, info) {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(1);\n      }\n    });\n  });\n};\n\nrouter.post('/register', function (req, res) {\n  var coupon_code = Math.random().toString(36).slice(2);\n  console.log(req.body.worker_signup);\n  var workerCreate = new worker.workers(req.body.worker_signup);\n  var datetime = new Date();\n  let pass = passwordHash.generate(req.body.worker_signup.password);\n  workerCreate.joindate = datetime;\n  workerCreate.password = pass;\n  workerCreate.coupon_code = coupon_code;\n  worker.workers.findOne({\n    email: req.body.worker_signup.email\n  }, function (err, workers) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      msg: err\n    });\n\n    if (workers) {\n      res.json({\n        status: \"failure\",\n        statusCode: 100,\n        msg: \"Email already exists!!\"\n      });\n    } else {\n      worker.workers.findOne({\n        name: req.body.worker_signup.name\n      }, function (err, workers) {\n        if (err) res.json({\n          status: \"failure\",\n          statusCode: 100,\n          msg: err\n        });\n\n        if (workers) {\n          console.log(workers);\n          res.json({\n            status: \"failure\",\n            statusCode: 100,\n            msg: \"Username already exists!!\"\n          });\n        } else {\n          workerCreate.save(function (err, worker) {\n            sendEmail(req.body.worker_signup.email, \"Your login account!\", \"You have been added as a Worker on <b>http://boomadvertise.com/</b><br> Here are your login credentials along with other details. <br> Username: \" + req.body.worker_signup.name + \"<br> Email: \" + req.body.worker_signup.email + \"<br> Password: \" + req.body.worker_signup.password + \" Promo code: fjhdgggdffg <br> Sharaeble Urls with others : http://boomadvertise.com/\" + worker['_id']);\n            if (err) res.json({\n              status: \"failure\",\n              statusCode: 100,\n              msg: error\n            });\n            res.json({\n              status: \"success\",\n              statusCode: 200,\n              data: worker,\n              msg: \"Worker added successfully and an email has been sent to the worker.\"\n            }); //  res.setHeader(\"Content-Type\", \"text/html\");\n\n            /******Send email***** */\n            //  var a = sendEmail(req.body.worker_signup.email,\n            //     \"Your login account!\",\"You have been added as a Worker on <b>http://boomadvertise.com/</b><br> Here are your login credentials along with other details. <br> Username: \" + req.body.worker_signup.name + \"<br> Email: \" +req.body.worker_signup.email +\"<br> Password: \" + req.body.worker_signup.password +\" Promo code: fjhdgggdffg <br> Sharaeble Urls with others : http://boomadvertise.com/\"+worker['_id']);\n            //       a.then((result) => { \n            //   if(result){\n            //     res.json({status:\"success\",statusCode:200,data:'hii sent email...'});\n            //   }\n            //   else{\n            //    res.json({status:\"failure\",statusCode:100,message:\"There was some error in your request!!!\",data:[]});\n            //   }\n            //     }).catch((err) => {\n            //      res.json({status:\"failure\",statusCode:100,message:\"Could Not Send Email!!!\",data:err});\n            //     });\n\n            /******Send email end***** */\n          });\n        }\n      });\n    }\n  });\n});\nrouter.post('/email', function (req, res) {\n  /******Send email***** */\n  // console.log(Math.random().toString(36).slice(2));\n  var a = sendEmail('manpreet@codenomad.net', \"Your login account!\", 'You have been added as a Worker on <b>http://boomadvertise.com/</b><br> Here are your login credentials along with other details. <br> Promo code: fjhdgggdffg <br> Sharaeble Urls with others : http://boomadvertise.com/');\n  a.then(result => {\n    if (result) {\n      res.json({\n        status: \"success\",\n        statusCode: 200,\n        data: 'hii sent email...'\n      });\n    } else {\n      res.json({\n        status: \"failure\",\n        statusCode: 100,\n        message: \"There was some error in youyr request!!!\",\n        data: []\n      });\n    }\n  }).catch(err => {\n    res.json({\n      status: \"failure\",\n      statusCode: 100,\n      message: \"Could Not Send Email!!!\",\n      data: err\n    });\n  });\n  /******Send email end***** */\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvcmtlcnMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJtb25nb29zZSIsIndvcmtlciIsImVtYWlsIiwibm9kZW1haWxlciIsInBhc3N3b3JkSGFzaCIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwYXNzd29yZCIsIm1haWxPcHRpb25zIiwiZnJvbSIsInNlbmRNYWlsIiwiZXJyb3IiLCJpbmZvIiwicG9zdCIsInJlcSIsInJlcyIsImNvdXBvbl9jb2RlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsIndvcmtlcl9zaWdudXAiLCJ3b3JrZXJDcmVhdGUiLCJ3b3JrZXJzIiwiZGF0ZXRpbWUiLCJEYXRlIiwiZ2VuZXJhdGUiLCJqb2luZGF0ZSIsImZpbmRPbmUiLCJlcnIiLCJqc29uIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsIm1zZyIsIm5hbWUiLCJzYXZlIiwiZGF0YSIsImEiLCJ0aGVuIiwicmVzdWx0IiwibWVzc2FnZSIsImNhdGNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFiOztBQUNBLElBQUlDLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBQ0EsTUFBTUksTUFBTSxHQUFHSixPQUFPLENBQUMsbUJBQUQsQ0FBdEI7O0FBQ0EsTUFBTUssS0FBSyxHQUFHTCxPQUFPLENBQUMsaUJBQUQsQ0FBckI7O0FBQ0EsTUFBTU0sVUFBVSxHQUFHTixP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QUFBb0ZKLFFBQUFBLElBQUksRUFBQztBQUF6RixPQUFUO0FBQ0E7QUFDQyxHQVBELEVBT0dLLEtBUEgsQ0FPVVosR0FBRCxJQUFTO0FBQ2hCakIsSUFBQUEsR0FBRyxDQUFDa0IsSUFBSixDQUFTO0FBQUNDLE1BQUFBLE1BQU0sRUFBQyxTQUFSO0FBQWtCQyxNQUFBQSxVQUFVLEVBQUMsR0FBN0I7QUFBaUNRLE1BQUFBLE9BQU8sRUFBQyx5QkFBekM7QUFBbUVKLE1BQUFBLElBQUksRUFBQ1A7QUFBeEUsS0FBVDtBQUNELEdBVEQ7QUFVSDtBQUNFLENBbEJIO0FBeUJBYSxNQUFNLENBQUNDLE9BQVAsR0FBaUI3RCxNQUFqQiIsInNvdXJjZVJvb3QiOiJFOlxcYm9vbWFkdmVydGlzZW1lbnRcXHNlcnZlcmFwaVxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJcclxudmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG52YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCB3b3JrZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvd29ya2VycycpO1xyXG5jb25zdCBlbWFpbCA9IHJlcXVpcmUoJy4uL2NvbmZpZy9lbWFpbCcpO1xyXG5jb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xyXG52YXIgcGFzc3dvcmRIYXNoID0gcmVxdWlyZSgncGFzc3dvcmQtaGFzaCcpO1xyXG5cclxuLy9wcm9jZXNzLmVudi5OT0RFX1RMU19SRUpFQ1RfVU5BVVRIT1JJWkVEID0gXCIxXCI7XHJcblxyXG52YXIgc2VuZEVtYWlsID0gZnVuY3Rpb24odG8sc3ViamVjdCxodG1sKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgICBzZXJ2aWNlOiAnZ21haWwnLFxyXG4gICAgICBwb3J0OiA1ODcsXHJcbiAgICAgIHNlY3VyZTogZmFsc2UsXHJcbiAgICAgIGF1dGg6IHtcclxuICAgICAgICB1c2VyOiBlbWFpbC5lbWFpbCxcclxuICAgICAgICBwYXNzOiBlbWFpbC5wYXNzd29yZFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICBcclxuICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICBmcm9tOiAnZmFhbm1hbmFnZW1lbnRAZ21haWwuY29tICA8aHR0cDovL2Jvb21hZHZlcnRpc2UuY29tLz4nLFxyXG4gICAgdG86IHRvLFxyXG4gICAgc3ViamVjdDogc3ViamVjdCxcclxuICAgIGh0bWw6IGh0bWxcclxuICB9O1xyXG5cclxuICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zLCBmdW5jdGlvbihlcnJvciwgaW5mbyl7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgcmVzb2x2ZSgxKVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBcclxufSk7XHJcblxyXG59XHJcblxyXG5cclxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGZ1bmN0aW9uKHJlcSxyZXMpIHtcclxuICB2YXIgY291cG9uX2NvZGUgID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMilcclxuY29uc29sZS5sb2cocmVxLmJvZHkud29ya2VyX3NpZ251cCk7XHJcbiAgICAgIHZhciB3b3JrZXJDcmVhdGUgPSAgbmV3IHdvcmtlci53b3JrZXJzKHJlcS5ib2R5Lndvcmtlcl9zaWdudXApO1xyXG5cclxuICAgICAgdmFyIGRhdGV0aW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgbGV0IHBhc3MgPSBwYXNzd29yZEhhc2guZ2VuZXJhdGUocmVxLmJvZHkud29ya2VyX3NpZ251cC5wYXNzd29yZClcclxuXHJcbiAgICAgIHdvcmtlckNyZWF0ZS5qb2luZGF0ZSA9IGRhdGV0aW1lXHJcbiAgICAgIHdvcmtlckNyZWF0ZS5wYXNzd29yZCA9IHBhc3NcclxuICAgICAgd29ya2VyQ3JlYXRlLmNvdXBvbl9jb2RlID0gY291cG9uX2NvZGVcclxuICAgICAgXHJcbiAgICAgIHdvcmtlci53b3JrZXJzLmZpbmRPbmUoe2VtYWlsOnJlcS5ib2R5Lndvcmtlcl9zaWdudXAuZW1haWx9LCBmdW5jdGlvbihlcnIsIHdvcmtlcnMpIHtcclxuICAgICAgICBpZiAoZXJyKSAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYod29ya2Vycyl7XHJcbiAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzpcIkVtYWlsIGFscmVhZHkgZXhpc3RzISFcIn0pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB3b3JrZXIud29ya2Vycy5maW5kT25lKHtuYW1lOnJlcS5ib2R5Lndvcmtlcl9zaWdudXAubmFtZX0sIGZ1bmN0aW9uKGVyciwgd29ya2Vycykge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHdvcmtlcnMpe1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHdvcmtlcnMpXHJcbiAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6XCJVc2VybmFtZSBhbHJlYWR5IGV4aXN0cyEhXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgd29ya2VyQ3JlYXRlLnNhdmUoZnVuY3Rpb24gKGVyciwgd29ya2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNlbmRFbWFpbChyZXEuYm9keS53b3JrZXJfc2lnbnVwLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICBcIllvdXIgbG9naW4gYWNjb3VudCFcIixcIllvdSBoYXZlIGJlZW4gYWRkZWQgYXMgYSBXb3JrZXIgb24gPGI+aHR0cDovL2Jvb21hZHZlcnRpc2UuY29tLzwvYj48YnI+IEhlcmUgYXJlIHlvdXIgbG9naW4gY3JlZGVudGlhbHMgYWxvbmcgd2l0aCBvdGhlciBkZXRhaWxzLiA8YnI+IFVzZXJuYW1lOiBcIiArIHJlcS5ib2R5Lndvcmtlcl9zaWdudXAubmFtZSArIFwiPGJyPiBFbWFpbDogXCIgK3JlcS5ib2R5Lndvcmtlcl9zaWdudXAuZW1haWwgK1wiPGJyPiBQYXNzd29yZDogXCIgKyByZXEuYm9keS53b3JrZXJfc2lnbnVwLnBhc3N3b3JkICtcIiBQcm9tbyBjb2RlOiBmamhkZ2dnZGZmZyA8YnI+IFNoYXJhZWJsZSBVcmxzIHdpdGggb3RoZXJzIDogaHR0cDovL2Jvb21hZHZlcnRpc2UuY29tL1wiK3dvcmtlclsnX2lkJ10pO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzplcnJvcn0pO1xyXG4gICAgICAgICAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6d29ya2VyLG1zZzpcIldvcmtlciBhZGRlZCBzdWNjZXNzZnVsbHkgYW5kIGFuIGVtYWlsIGhhcyBiZWVuIHNlbnQgdG8gdGhlIHdvcmtlci5cIn0pO1xyXG4gICAgICAgICAgICAgICAgLy8gIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L2h0bWxcIik7XHJcbiAgICAgICAgICAgICAgICAvKioqKioqU2VuZCBlbWFpbCoqKioqICovXHJcbiAgICAgICAgICAgICAgLy8gIHZhciBhID0gc2VuZEVtYWlsKHJlcS5ib2R5Lndvcmtlcl9zaWdudXAuZW1haWwsXHJcbiAgICAgICAgICAgICAgLy8gICAgIFwiWW91ciBsb2dpbiBhY2NvdW50IVwiLFwiWW91IGhhdmUgYmVlbiBhZGRlZCBhcyBhIFdvcmtlciBvbiA8Yj5odHRwOi8vYm9vbWFkdmVydGlzZS5jb20vPC9iPjxicj4gSGVyZSBhcmUgeW91ciBsb2dpbiBjcmVkZW50aWFscyBhbG9uZyB3aXRoIG90aGVyIGRldGFpbHMuIDxicj4gVXNlcm5hbWU6IFwiICsgcmVxLmJvZHkud29ya2VyX3NpZ251cC5uYW1lICsgXCI8YnI+IEVtYWlsOiBcIiArcmVxLmJvZHkud29ya2VyX3NpZ251cC5lbWFpbCArXCI8YnI+IFBhc3N3b3JkOiBcIiArIHJlcS5ib2R5Lndvcmtlcl9zaWdudXAucGFzc3dvcmQgK1wiIFByb21vIGNvZGU6IGZqaGRnZ2dkZmZnIDxicj4gU2hhcmFlYmxlIFVybHMgd2l0aCBvdGhlcnMgOiBodHRwOi8vYm9vbWFkdmVydGlzZS5jb20vXCIrd29ya2VyWydfaWQnXSk7XHJcbiAgICAgICAgICAgICAgLy8gICAgICAgYS50aGVuKChyZXN1bHQpID0+IHsgXHJcbiAgICAgICAgICAgICAgLy8gICBpZihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgIC8vICAgICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6J2hpaSBzZW50IGVtYWlsLi4uJ30pO1xyXG4gICAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAgIC8vICAgZWxzZXtcclxuICAgICAgICAgICAgICAvLyAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1lc3NhZ2U6XCJUaGVyZSB3YXMgc29tZSBlcnJvciBpbiB5b3VyIHJlcXVlc3QhISFcIixkYXRhOltdfSk7XHJcbiAgICAgICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAgICAgLy8gICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAvLyAgICAgIHJlcy5qc29uKHtzdGF0dXM6XCJmYWlsdXJlXCIsc3RhdHVzQ29kZToxMDAsbWVzc2FnZTpcIkNvdWxkIE5vdCBTZW5kIEVtYWlsISEhXCIsZGF0YTplcnJ9KTtcclxuICAgICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgLyoqKioqKlNlbmQgZW1haWwgZW5kKioqKiogKi9cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pOyBcclxuICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxuICAgIHJvdXRlci5wb3N0KCcvZW1haWwnLCBmdW5jdGlvbihyZXEscmVzKSB7IFxyXG4gICAgICAvKioqKioqU2VuZCBlbWFpbCoqKioqICovXHJcbiAgICAgLy8gY29uc29sZS5sb2coTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikpO1xyXG4gICAgICBcclxuICAgICAgdmFyIGEgPSAgc2VuZEVtYWlsKCdtYW5wcmVldEBjb2Rlbm9tYWQubmV0JyxcclxuICAgICAgICBcIllvdXIgbG9naW4gYWNjb3VudCFcIixcclxuICAgICAgICAnWW91IGhhdmUgYmVlbiBhZGRlZCBhcyBhIFdvcmtlciBvbiA8Yj5odHRwOi8vYm9vbWFkdmVydGlzZS5jb20vPC9iPjxicj4gSGVyZSBhcmUgeW91ciBsb2dpbiBjcmVkZW50aWFscyBhbG9uZyB3aXRoIG90aGVyIGRldGFpbHMuIDxicj4gUHJvbW8gY29kZTogZmpoZGdnZ2RmZmcgPGJyPiBTaGFyYWVibGUgVXJscyB3aXRoIG90aGVycyA6IGh0dHA6Ly9ib29tYWR2ZXJ0aXNlLmNvbS8nKVxyXG4gICAgICAgIGEudGhlbigocmVzdWx0KSA9PiB7IFxyXG4gICAgICAgaWYocmVzdWx0KXtcclxuICAgICAgICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6J2hpaSBzZW50IGVtYWlsLi4uJ30pO1xyXG4gICAgICAgfVxyXG4gICAgICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1lc3NhZ2U6XCJUaGVyZSB3YXMgc29tZSBlcnJvciBpbiB5b3V5ciByZXF1ZXN0ISEhXCIsZGF0YTpbXX0pO1xyXG4gICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHJlcy5qc29uKHtzdGF0dXM6XCJmYWlsdXJlXCIsc3RhdHVzQ29kZToxMDAsbWVzc2FnZTpcIkNvdWxkIE5vdCBTZW5kIEVtYWlsISEhXCIsZGF0YTplcnJ9KTtcclxuICAgICAgICB9KTtcclxuICAgICAvKioqKioqU2VuZCBlbWFpbCBlbmQqKioqKiAqL1xyXG4gICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICBcclxuICAgIFxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcblxyXG5cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "workers.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "mongoose",
        "worker",
        "email",
        "nodemailer",
        "passwordHash",
        "sendEmail",
        "to",
        "subject",
        "html",
        "Promise",
        "resolve",
        "reject",
        "transporter",
        "createTransport",
        "service",
        "port",
        "secure",
        "auth",
        "user",
        "pass",
        "password",
        "mailOptions",
        "from",
        "sendMail",
        "error",
        "info",
        "post",
        "req",
        "res",
        "coupon_code",
        "Math",
        "random",
        "toString",
        "slice",
        "console",
        "log",
        "body",
        "worker_signup",
        "workerCreate",
        "workers",
        "datetime",
        "Date",
        "generate",
        "joindate",
        "findOne",
        "err",
        "json",
        "status",
        "statusCode",
        "msg",
        "name",
        "save",
        "data",
        "a",
        "then",
        "result",
        "message",
        "catch",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "sourcesContent": [
        "\r\nvar express = require('express');\r\nvar router = express.Router();\r\nvar mongoose = require('mongoose');\r\nconst worker = require('../models/workers');\r\nconst email = require('../config/email');\r\nconst nodemailer = require('nodemailer');\r\nvar passwordHash = require('password-hash');\r\n\r\n//process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"1\";\r\n\r\nvar sendEmail = function(to,subject,html) {\r\n  return new Promise(function(resolve, reject) {\r\n    var transporter = nodemailer.createTransport({\r\n      service: 'gmail',\r\n      port: 587,\r\n      secure: false,\r\n      auth: {\r\n        user: email.email,\r\n        pass: email.password\r\n      }\r\n    });\r\n  \r\n  var mailOptions = {\r\n    from: 'faanmanagement@gmail.com  <http://boomadvertise.com/>',\r\n    to: to,\r\n    subject: subject,\r\n    html: html\r\n  };\r\n\r\n    transporter.sendMail(mailOptions, function(error, info){\r\n    if (error) {\r\n      reject(error);\r\n    } else {\r\n     resolve(1)\r\n    }\r\n  });\r\n\r\n  \r\n});\r\n\r\n}\r\n\r\n\r\nrouter.post('/register', function(req,res) {\r\n  var coupon_code  = Math.random().toString(36).slice(2)\r\nconsole.log(req.body.worker_signup);\r\n      var workerCreate =  new worker.workers(req.body.worker_signup);\r\n\r\n      var datetime = new Date();\r\n      let pass = passwordHash.generate(req.body.worker_signup.password)\r\n\r\n      workerCreate.joindate = datetime\r\n      workerCreate.password = pass\r\n      workerCreate.coupon_code = coupon_code\r\n      \r\n      worker.workers.findOne({email:req.body.worker_signup.email}, function(err, workers) {\r\n        if (err)  res.json({status:\"failure\",statusCode:100,msg:err});\r\n        \r\n        if(workers){\r\n          res.json({status:\"failure\",statusCode:100,msg:\"Email already exists!!\"});\r\n        }else{\r\n            worker.workers.findOne({name:req.body.worker_signup.name}, function(err, workers) {\r\n            if (err)  res.json({status:\"failure\",statusCode:100,msg:err});\r\n        \r\n            if(workers){\r\n              console.log(workers)\r\n              res.json({status:\"failure\",statusCode:100,msg:\"Username already exists!!\"});\r\n            }\r\n            else{\r\n                workerCreate.save(function (err, worker) {\r\n                  sendEmail(req.body.worker_signup.email,\r\n                     \"Your login account!\",\"You have been added as a Worker on <b>http://boomadvertise.com/</b><br> Here are your login credentials along with other details. <br> Username: \" + req.body.worker_signup.name + \"<br> Email: \" +req.body.worker_signup.email +\"<br> Password: \" + req.body.worker_signup.password +\" Promo code: fjhdgggdffg <br> Sharaeble Urls with others : http://boomadvertise.com/\"+worker['_id']);\r\n                  if (err) res.json({status:\"failure\",statusCode:100,msg:error});\r\n                  res.json({status:\"success\",statusCode:200,data:worker,msg:\"Worker added successfully and an email has been sent to the worker.\"});\r\n                //  res.setHeader(\"Content-Type\", \"text/html\");\r\n                /******Send email***** */\r\n              //  var a = sendEmail(req.body.worker_signup.email,\r\n              //     \"Your login account!\",\"You have been added as a Worker on <b>http://boomadvertise.com/</b><br> Here are your login credentials along with other details. <br> Username: \" + req.body.worker_signup.name + \"<br> Email: \" +req.body.worker_signup.email +\"<br> Password: \" + req.body.worker_signup.password +\" Promo code: fjhdgggdffg <br> Sharaeble Urls with others : http://boomadvertise.com/\"+worker['_id']);\r\n              //       a.then((result) => { \r\n              //   if(result){\r\n              //     res.json({status:\"success\",statusCode:200,data:'hii sent email...'});\r\n              //   }\r\n              //   else{\r\n              //    res.json({status:\"failure\",statusCode:100,message:\"There was some error in your request!!!\",data:[]});\r\n              //   }\r\n              //     }).catch((err) => {\r\n              //      res.json({status:\"failure\",statusCode:100,message:\"Could Not Send Email!!!\",data:err});\r\n              //     });\r\n           /******Send email end***** */\r\n              });\r\n            }\r\n          })\r\n        }\r\n      }); \r\n      \r\n    });\r\n\r\n    \r\n    router.post('/email', function(req,res) { \r\n      /******Send email***** */\r\n     // console.log(Math.random().toString(36).slice(2));\r\n      \r\n      var a =  sendEmail('manpreet@codenomad.net',\r\n        \"Your login account!\",\r\n        'You have been added as a Worker on <b>http://boomadvertise.com/</b><br> Here are your login credentials along with other details. <br> Promo code: fjhdgggdffg <br> Sharaeble Urls with others : http://boomadvertise.com/')\r\n        a.then((result) => { \r\n       if(result){\r\n        res.json({status:\"success\",statusCode:200,data:'hii sent email...'});\r\n       }\r\n       else{\r\n        res.json({status:\"failure\",statusCode:100,message:\"There was some error in youyr request!!!\",data:[]});\r\n       }\r\n        }).catch((err) => {\r\n          res.json({status:\"failure\",statusCode:100,message:\"Could Not Send Email!!!\",data:err});\r\n        });\r\n     /******Send email end***** */\r\n      });\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    module.exports = router;\r\n\r\n\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1609170676000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\workers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\models\\workers.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\models\\workers.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\models\\workers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
        "sourceFileName": "workers.js"
      }
    },
    "ast": null,
    "code": "var mongoose = require('mongoose');\n\nconst Schema = mongoose.Schema;\nconst workersSchema = new Schema({\n  id: Boolean,\n  // String is shorthand for {type: String}\n  name: String,\n  email: String,\n  password: String,\n  coupon_code: String,\n  joindate: Date\n});\nconst workers = mongoose.model('workers', workersSchema);\nmodule.exports = {\n  workers,\n  workersSchema\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvcmtlcnMuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwid29ya2Vyc1NjaGVtYSIsImlkIiwiQm9vbGVhbiIsIm5hbWUiLCJTdHJpbmciLCJlbWFpbCIsInBhc3N3b3JkIiwiY291cG9uX2NvZGUiLCJqb2luZGF0ZSIsIkRhdGUiLCJ3b3JrZXJzIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRSxNQUF4QjtBQUVBLE1BQU1DLGFBQWEsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDL0JFLEVBQUFBLEVBQUUsRUFBR0MsT0FEMEI7QUFDakI7QUFDZEMsRUFBQUEsSUFBSSxFQUFFQyxNQUZ5QjtBQUcvQkMsRUFBQUEsS0FBSyxFQUFJRCxNQUhzQjtBQUkvQkUsRUFBQUEsUUFBUSxFQUFJRixNQUptQjtBQUsvQkcsRUFBQUEsV0FBVyxFQUFJSCxNQUxnQjtBQU0vQkksRUFBQUEsUUFBUSxFQUFJQztBQU5tQixDQUFYLENBQXRCO0FBUUEsTUFBTUMsT0FBTyxHQUFHYixRQUFRLENBQUNjLEtBQVQsQ0FBZSxTQUFmLEVBQTBCWCxhQUExQixDQUFoQjtBQUNBWSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFBRUgsRUFBQUEsT0FBRjtBQUFVVixFQUFBQTtBQUFWLENBQWpCIiwic291cmNlUm9vdCI6IkU6XFxib29tYWR2ZXJ0aXNlbWVudFxcc2VydmVyYXBpXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IHdvcmtlcnNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBpZDogIEJvb2xlYW4sIC8vIFN0cmluZyBpcyBzaG9ydGhhbmQgZm9yIHt0eXBlOiBTdHJpbmd9XHJcbiAgbmFtZTogU3RyaW5nLFxyXG4gIGVtYWlsOiAgIFN0cmluZyxcclxuICBwYXNzd29yZDogICBTdHJpbmcsXHJcbiAgY291cG9uX2NvZGU6ICAgU3RyaW5nLFxyXG4gIGpvaW5kYXRlOiAgIERhdGVcclxufSk7XHJcbmNvbnN0IHdvcmtlcnMgPSBtb25nb29zZS5tb2RlbCgnd29ya2VycycsIHdvcmtlcnNTY2hlbWEpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHsgd29ya2Vycyx3b3JrZXJzU2NoZW1hIH0gOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "workers.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "workersSchema",
        "id",
        "Boolean",
        "name",
        "String",
        "email",
        "password",
        "coupon_code",
        "joindate",
        "Date",
        "workers",
        "model",
        "module",
        "exports"
      ],
      "mappings": "AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,MAAMC,aAAa,GAAG,IAAID,MAAJ,CAAW;AAC/BE,EAAAA,EAAE,EAAGC,OAD0B;AACjB;AACdC,EAAAA,IAAI,EAAEC,MAFyB;AAG/BC,EAAAA,KAAK,EAAID,MAHsB;AAI/BE,EAAAA,QAAQ,EAAIF,MAJmB;AAK/BG,EAAAA,WAAW,EAAIH,MALgB;AAM/BI,EAAAA,QAAQ,EAAIC;AANmB,CAAX,CAAtB;AAQA,MAAMC,OAAO,GAAGb,QAAQ,CAACc,KAAT,CAAe,SAAf,EAA0BX,aAA1B,CAAhB;AACAY,MAAM,CAACC,OAAP,GAAiB;AAAEH,EAAAA,OAAF;AAAUV,EAAAA;AAAV,CAAjB",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "sourcesContent": [
        "var mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst workersSchema = new Schema({\r\n  id:  Boolean, // String is shorthand for {type: String}\r\n  name: String,\r\n  email:   String,\r\n  password:   String,\r\n  coupon_code:   String,\r\n  joindate:   Date\r\n});\r\nconst workers = mongoose.model('workers', workersSchema);\r\nmodule.exports = { workers,workersSchema } ;"
      ]
    },
    "sourceType": "module",
    "mtime": 1608803440000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\config\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\config\\\\email.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\config\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\config\\email.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\config\\email.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\config\\email.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\config\\",
        "sourceFileName": "email.js"
      }
    },
    "ast": null,
    "code": "var config = {};\nconfig.email = 'deligoch@gmail.com';\nconfig.password = 'ifwmxlltkurvvctb';\nconfig.adminemail = 'deligoch@gmail.com';\nconfig.url = 'http://boomadvertise.com/';\nconfig.adminurl = 'http://boomadvertise.com/';\nmodule.exports = config; // MAIL_DRIVER=smtp\n// MAIL_HOST=email-smtp.ap-south-1.amazonaws.com\n// MAIL_PORT=587\n// MAIL_ENCRYPTION=tls\n// MAIL_USERNAME=AKIAREDTCB4G4N4SJUKF\n// MAIL_PASSWORD=BFz7nWPoZc0jAYpUr5FkCeZsYpVYyTwjnuILc0vE3EaP\n// host : smtp.gmail.com\n// email port :587\n// email : deligoch@gmail.com\n// MAIL_ENCRYPTION : tls\n// email_username : deligoch@gmail.com\n// email pass : ifwmxlltkurvvctb\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsImVtYWlsIiwicGFzc3dvcmQiLCJhZG1pbmVtYWlsIiwidXJsIiwiYWRtaW51cmwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxNQUFNLEdBQUcsRUFBYjtBQUdBQSxNQUFNLENBQUNDLEtBQVAsR0FBZSxvQkFBZjtBQUNBRCxNQUFNLENBQUNFLFFBQVAsR0FBaUIsa0JBQWpCO0FBRUFGLE1BQU0sQ0FBQ0csVUFBUCxHQUFrQixvQkFBbEI7QUFDQUgsTUFBTSxDQUFDSSxHQUFQLEdBQVcsMkJBQVg7QUFDQUosTUFBTSxDQUFDSyxRQUFQLEdBQWdCLDJCQUFoQjtBQUNBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCLEMsQ0FHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiRTpcXGJvb21hZHZlcnRpc2VtZW50XFxzZXJ2ZXJhcGlcXGNvbmZpZ1xcIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbmZpZyA9IHt9O1xyXG5cclxuXHJcbmNvbmZpZy5lbWFpbCA9ICdkZWxpZ29jaEBnbWFpbC5jb20nXHJcbmNvbmZpZy5wYXNzd29yZD0gJ2lmd214bGx0a3VydnZjdGInXHJcblxyXG5jb25maWcuYWRtaW5lbWFpbD0nZGVsaWdvY2hAZ21haWwuY29tJ1xyXG5jb25maWcudXJsPSdodHRwOi8vYm9vbWFkdmVydGlzZS5jb20vJ1xyXG5jb25maWcuYWRtaW51cmw9J2h0dHA6Ly9ib29tYWR2ZXJ0aXNlLmNvbS8nXHJcbm1vZHVsZS5leHBvcnRzID0gY29uZmlnO1xyXG5cclxuXHJcbi8vIE1BSUxfRFJJVkVSPXNtdHBcclxuLy8gTUFJTF9IT1NUPWVtYWlsLXNtdHAuYXAtc291dGgtMS5hbWF6b25hd3MuY29tXHJcbi8vIE1BSUxfUE9SVD01ODdcclxuLy8gTUFJTF9FTkNSWVBUSU9OPXRsc1xyXG4vLyBNQUlMX1VTRVJOQU1FPUFLSUFSRURUQ0I0RzRONFNKVUtGXHJcbi8vIE1BSUxfUEFTU1dPUkQ9QkZ6N25XUG9aYzBqQVlwVXI1RmtDZVpzWXBWWXlUd2pudUlMYzB2RTNFYVBcclxuLy8gaG9zdCA6IHNtdHAuZ21haWwuY29tXHJcbi8vIGVtYWlsIHBvcnQgOjU4N1xyXG4vLyBlbWFpbCA6IGRlbGlnb2NoQGdtYWlsLmNvbVxyXG4vLyBNQUlMX0VOQ1JZUFRJT04gOiB0bHNcclxuLy8gZW1haWxfdXNlcm5hbWUgOiBkZWxpZ29jaEBnbWFpbC5jb21cclxuLy8gZW1haWwgcGFzcyA6IGlmd214bGx0a3VydnZjdGJcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "email.js"
      ],
      "names": [
        "config",
        "email",
        "password",
        "adminemail",
        "url",
        "adminurl",
        "module",
        "exports"
      ],
      "mappings": "AAAA,IAAIA,MAAM,GAAG,EAAb;AAGAA,MAAM,CAACC,KAAP,GAAe,oBAAf;AACAD,MAAM,CAACE,QAAP,GAAiB,kBAAjB;AAEAF,MAAM,CAACG,UAAP,GAAkB,oBAAlB;AACAH,MAAM,CAACI,GAAP,GAAW,2BAAX;AACAJ,MAAM,CAACK,QAAP,GAAgB,2BAAhB;AACAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\config\\",
      "sourcesContent": [
        "var config = {};\r\n\r\n\r\nconfig.email = 'deligoch@gmail.com'\r\nconfig.password= 'ifwmxlltkurvvctb'\r\n\r\nconfig.adminemail='deligoch@gmail.com'\r\nconfig.url='http://boomadvertise.com/'\r\nconfig.adminurl='http://boomadvertise.com/'\r\nmodule.exports = config;\r\n\r\n\r\n// MAIL_DRIVER=smtp\r\n// MAIL_HOST=email-smtp.ap-south-1.amazonaws.com\r\n// MAIL_PORT=587\r\n// MAIL_ENCRYPTION=tls\r\n// MAIL_USERNAME=AKIAREDTCB4G4N4SJUKF\r\n// MAIL_PASSWORD=BFz7nWPoZc0jAYpUr5FkCeZsYpVYyTwjnuILc0vE3EaP\r\n// host : smtp.gmail.com\r\n// email port :587\r\n// email : deligoch@gmail.com\r\n// MAIL_ENCRYPTION : tls\r\n// email_username : deligoch@gmail.com\r\n// email pass : ifwmxlltkurvvctb\r\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1608722306000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\influencers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\routes\\influencers.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\routes\\influencers.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\routes\\influencers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
        "sourceFileName": "influencers.js"
      }
    },
    "ast": null,
    "code": "var express = require('express');\n\nvar router = express.Router();\n\nvar mongoose = require('mongoose');\n\nconst influencer = require('../models/influencers');\n\nconst influencers_data = require('../models/influencers_data'); //const email = require('../config/email');\n//const nodemailer = require('nodemailer');\n\n\nvar passwordHash = require('password-hash');\n\nconst {\n  ObjectId\n} = require('mongodb'); //process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"1\";\n\n\nrouter.post('/register', async function (req, res) {\n  console.log(req.body.influencer_signup);\n  var influencerCreate = new influencer.influencers(req.body.influencer_signup);\n  var influencerData = new influencers_data.influencers_data(req.body.influencer_signup);\n  var datetime = new Date();\n  let pass = passwordHash.generate(req.body.influencer_signup.password);\n  influencerCreate.joindate = datetime;\n  influencerCreate.password = pass;\n  influencerCreate.tiktok = req.body.influencer_signup.tiktok;\n  influencerCreate.instagram = req.body.influencer_signup.insta;\n  influencerCreate.facebook = req.body.influencer_signup.fb;\n  influencerCreate.twitter = req.body.influencer_signup.twitter;\n  influencerData.twitterfollowers = req.body.influencer_signup.twitter_followers;\n  influencerData.tiktokfollowers = req.body.influencer_signup.tiktok_followers;\n  influencerData.facebookfollowers = req.body.influencer_signup.fb_followers;\n  influencerData.instagramfollowers = req.body.influencer_signup.insta_followers;\n  influencer.influencers.findOne({\n    email: req.body.influencer_signup.email\n  }, function (err, influencers) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      msg: err\n    });\n\n    if (influencers) {\n      console.log(influencers);\n      res.json({\n        status: \"failure\",\n        statusCode: 100,\n        msg: \"Email already exists!!\"\n      });\n    } else {\n      influencer.influencers.findOne({\n        name: req.body.influencer_signup.name\n      }, function (err, influencers) {\n        if (err) res.json({\n          status: \"failure\",\n          statusCode: 100,\n          msg: err\n        });\n\n        if (influencers) {\n          console.log(influencers);\n          res.json({\n            status: \"failure\",\n            statusCode: 100,\n            msg: \"Username already exists!!\"\n          });\n        } else {\n          influencerCreate.save(function (err, influencer_res) {\n            influencerData.influencerid = influencer_res['_id'];\n            influencerData.save(function (err1, influ_data_res) {\n              if (err || err1) res.json({\n                status: \"failure\",\n                statusCode: 100,\n                msg: err\n              });\n              res.json({\n                status: \"success\",\n                statusCode: 200,\n                data: influencer_res,\n                msg: \"Signup & SignIn successfully!\"\n              });\n            });\n          });\n        }\n      });\n    }\n  });\n});\nrouter.get('/test', function (req, res) {\n  res.json(\"it workedvijay\");\n});\nrouter.get('/getInfluencers', function (req, res, next) {\n  //   influencer.influencers.find({}, function(err, influencers_dt) {\n  //     if (err)  res.json({status:\"failure\",statusCode:100,error:err});\n  //     res.json({status:\"success\",statusCode:200,data:influencers_dt});\n  //  });\n  influencers_data.influencers_data.aggregate([{\n    \"$lookup\": {\n      \"from\": \"influencers\",\n      \"localField\": \"influencerid\",\n      \"foreignField\": \"_id\",\n      \"as\": \"vals\"\n    }\n  }], function (err, res_data) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      error: err\n    });\n    res.json({\n      status: \"success\",\n      statusCode: 200,\n      data: res_data\n    });\n  });\n});\nrouter.get('/getInfluencers1', function (req, res, next) {\n  influencer.influencers.aggregate([{\n    \"$lookup\": {\n      \"from\": \"influencers_data\",\n      //\"startWith\": \"$parent\",\n      \"localField\": \"_id\",\n      \"foreignField\": \"influencerid\",\n      \"as\": \"vals\"\n    }\n  }], function (err, res_data) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      error: err\n    });\n    res.json({\n      status: \"success\",\n      statusCode: 200,\n      data: res_data\n    });\n  });\n});\nrouter.post('/singleInfluencer', function (req, res) {\n  // influencer.influencers.find({_id:req.body.id}, function(err, influencer_data) {\n  //   if (err)  res.json({status:\"failure\",statusCode:100,error:err});\n  //   res.json({status:\"success\",statusCode:200,data:influencer_data});\n  // });\n  influencers_data.influencers_data.aggregate([{\n    \"$lookup\": {\n      from: 'influencers',\n      localField: 'influencerid',\n      foreignField: '_id',\n      as: 'data'\n    }\n  }, {\n    \"$match\": {\n      _id: req.body.id\n    }\n  }], function (err, influencer_data) {\n    if (err) res.json({\n      status: \"failure\",\n      statusCode: 100,\n      error: err\n    });\n    res.json({\n      status: \"success\",\n      statusCode: 200,\n      data: influencer_data\n    });\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZmx1ZW5jZXJzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwibW9uZ29vc2UiLCJpbmZsdWVuY2VyIiwiaW5mbHVlbmNlcnNfZGF0YSIsInBhc3N3b3JkSGFzaCIsIk9iamVjdElkIiwicG9zdCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiaW5mbHVlbmNlcl9zaWdudXAiLCJpbmZsdWVuY2VyQ3JlYXRlIiwiaW5mbHVlbmNlcnMiLCJpbmZsdWVuY2VyRGF0YSIsImRhdGV0aW1lIiwiRGF0ZSIsInBhc3MiLCJnZW5lcmF0ZSIsInBhc3N3b3JkIiwiam9pbmRhdGUiLCJ0aWt0b2siLCJpbnN0YWdyYW0iLCJpbnN0YSIsImZhY2Vib29rIiwiZmIiLCJ0d2l0dGVyIiwidHdpdHRlcmZvbGxvd2VycyIsInR3aXR0ZXJfZm9sbG93ZXJzIiwidGlrdG9rZm9sbG93ZXJzIiwidGlrdG9rX2ZvbGxvd2VycyIsImZhY2Vib29rZm9sbG93ZXJzIiwiZmJfZm9sbG93ZXJzIiwiaW5zdGFncmFtZm9sbG93ZXJzIiwiaW5zdGFfZm9sbG93ZXJzIiwiZmluZE9uZSIsImVtYWlsIiwiZXJyIiwianNvbiIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJtc2ciLCJuYW1lIiwic2F2ZSIsImluZmx1ZW5jZXJfcmVzIiwiaW5mbHVlbmNlcmlkIiwiZXJyMSIsImluZmx1X2RhdGFfcmVzIiwiZGF0YSIsImdldCIsIm5leHQiLCJhZ2dyZWdhdGUiLCJyZXNfZGF0YSIsImVycm9yIiwiZnJvbSIsImxvY2FsRmllbGQiLCJmb3JlaWduRmllbGQiLCJhcyIsIl9pZCIsImlkIiwiaW5mbHVlbmNlcl9kYXRhIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBUixFQUFi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R0FERixFQVVJO0FBQ0UsY0FBUztBQUNQQyxNQUFBQSxHQUFHLEVBQUNwRCxHQUFHLENBQUNJLElBQUosQ0FBU2lEO0FBRE47QUFEWCxHQVZKLENBREYsRUFpQkcsVUFBU3RCLEdBQVQsRUFBYXVCLGVBQWIsRUFBNkI7QUFDOUIsUUFBR3ZCLEdBQUgsRUFBUTlCLEdBQUcsQ0FBQytCLElBQUosQ0FBUztBQUFDQyxNQUFBQSxNQUFNLEVBQUMsU0FBUjtBQUFrQkMsTUFBQUEsVUFBVSxFQUFDLEdBQTdCO0FBQWlDYSxNQUFBQSxLQUFLLEVBQUNoQjtBQUF2QyxLQUFUO0FBRVI5QixJQUFBQSxHQUFHLENBQUMrQixJQUFKLENBQVM7QUFBQ0MsTUFBQUEsTUFBTSxFQUFDLFNBQVI7QUFBa0JDLE1BQUFBLFVBQVUsRUFBQyxHQUE3QjtBQUFpQ1EsTUFBQUEsSUFBSSxFQUFDWTtBQUF0QyxLQUFUO0FBQ0QsR0FyQkQ7QUF1QkQsQ0E3QkE7QUFnQ0RDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmhFLE1BQWpCIiwic291cmNlUm9vdCI6IkU6XFxib29tYWR2ZXJ0aXNlbWVudFxcc2VydmVyYXBpXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IGluZmx1ZW5jZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvaW5mbHVlbmNlcnMnKTtcclxuY29uc3QgaW5mbHVlbmNlcnNfZGF0YSA9IHJlcXVpcmUoJy4uL21vZGVscy9pbmZsdWVuY2Vyc19kYXRhJyk7XHJcbi8vY29uc3QgZW1haWwgPSByZXF1aXJlKCcuLi9jb25maWcvZW1haWwnKTtcclxuLy9jb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xyXG52YXIgcGFzc3dvcmRIYXNoID0gcmVxdWlyZSgncGFzc3dvcmQtaGFzaCcpO1xyXG5jb25zdCB7T2JqZWN0SWR9ID0gcmVxdWlyZSgnbW9uZ29kYicpOyBcclxuXHJcbi8vcHJvY2Vzcy5lbnYuTk9ERV9UTFNfUkVKRUNUX1VOQVVUSE9SSVpFRCA9IFwiMVwiO1xyXG5cclxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIGZ1bmN0aW9uKHJlcSxyZXMpIHtcclxuY29uc29sZS5sb2cocmVxLmJvZHkuaW5mbHVlbmNlcl9zaWdudXApO1xyXG4gICAgICB2YXIgaW5mbHVlbmNlckNyZWF0ZSA9ICBuZXcgaW5mbHVlbmNlci5pbmZsdWVuY2VycyhyZXEuYm9keS5pbmZsdWVuY2VyX3NpZ251cCk7XHJcbiAgICAgIHZhciBpbmZsdWVuY2VyRGF0YSA9ICBuZXcgaW5mbHVlbmNlcnNfZGF0YS5pbmZsdWVuY2Vyc19kYXRhKHJlcS5ib2R5LmluZmx1ZW5jZXJfc2lnbnVwKTtcclxuXHJcbiAgICAgIHZhciBkYXRldGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGxldCBwYXNzID0gcGFzc3dvcmRIYXNoLmdlbmVyYXRlKHJlcS5ib2R5LmluZmx1ZW5jZXJfc2lnbnVwLnBhc3N3b3JkKVxyXG5cclxuICAgICAgaW5mbHVlbmNlckNyZWF0ZS5qb2luZGF0ZSA9IGRhdGV0aW1lXHJcbiAgICAgIGluZmx1ZW5jZXJDcmVhdGUucGFzc3dvcmQgPSBwYXNzXHJcbiAgICAgIGluZmx1ZW5jZXJDcmVhdGUudGlrdG9rID0gcmVxLmJvZHkuaW5mbHVlbmNlcl9zaWdudXAudGlrdG9rXHJcbiAgICAgIGluZmx1ZW5jZXJDcmVhdGUuaW5zdGFncmFtID0gcmVxLmJvZHkuaW5mbHVlbmNlcl9zaWdudXAuaW5zdGFcclxuICAgICAgaW5mbHVlbmNlckNyZWF0ZS5mYWNlYm9vayA9IHJlcS5ib2R5LmluZmx1ZW5jZXJfc2lnbnVwLmZiXHJcbiAgICAgIGluZmx1ZW5jZXJDcmVhdGUudHdpdHRlciA9IHJlcS5ib2R5LmluZmx1ZW5jZXJfc2lnbnVwLnR3aXR0ZXJcclxuXHJcbiAgICAgIGluZmx1ZW5jZXJEYXRhLnR3aXR0ZXJmb2xsb3dlcnMgPSByZXEuYm9keS5pbmZsdWVuY2VyX3NpZ251cC50d2l0dGVyX2ZvbGxvd2Vyc1xyXG4gICAgICBpbmZsdWVuY2VyRGF0YS50aWt0b2tmb2xsb3dlcnMgPSByZXEuYm9keS5pbmZsdWVuY2VyX3NpZ251cC50aWt0b2tfZm9sbG93ZXJzXHJcbiAgICAgIGluZmx1ZW5jZXJEYXRhLmZhY2Vib29rZm9sbG93ZXJzID0gcmVxLmJvZHkuaW5mbHVlbmNlcl9zaWdudXAuZmJfZm9sbG93ZXJzXHJcbiAgICAgIGluZmx1ZW5jZXJEYXRhLmluc3RhZ3JhbWZvbGxvd2VycyA9IHJlcS5ib2R5LmluZmx1ZW5jZXJfc2lnbnVwLmluc3RhX2ZvbGxvd2Vyc1xyXG4gICAgICBcclxuICAgICAgaW5mbHVlbmNlci5pbmZsdWVuY2Vycy5maW5kT25lKHtlbWFpbDpyZXEuYm9keS5pbmZsdWVuY2VyX3NpZ251cC5lbWFpbH0sIGZ1bmN0aW9uKGVyciwgaW5mbHVlbmNlcnMpIHtcclxuICAgICAgICBpZiAoZXJyKSAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoaW5mbHVlbmNlcnMpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coaW5mbHVlbmNlcnMpXHJcbiAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzpcIkVtYWlsIGFscmVhZHkgZXhpc3RzISFcIn0pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpbmZsdWVuY2VyLmluZmx1ZW5jZXJzLmZpbmRPbmUoe25hbWU6cmVxLmJvZHkuaW5mbHVlbmNlcl9zaWdudXAubmFtZX0sIGZ1bmN0aW9uKGVyciwgaW5mbHVlbmNlcnMpIHtcclxuICAgICAgICAgICAgaWYgKGVycikgIHJlcy5qc29uKHtzdGF0dXM6XCJmYWlsdXJlXCIsc3RhdHVzQ29kZToxMDAsbXNnOmVycn0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBpZihpbmZsdWVuY2Vycyl7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5mbHVlbmNlcnMpXHJcbiAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6XCJVc2VybmFtZSBhbHJlYWR5IGV4aXN0cyEhXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaW5mbHVlbmNlckNyZWF0ZS5zYXZlKGZ1bmN0aW9uIChlcnIsIGluZmx1ZW5jZXJfcmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgIGluZmx1ZW5jZXJEYXRhLmluZmx1ZW5jZXJpZCA9IGluZmx1ZW5jZXJfcmVzWydfaWQnXVxyXG4gICAgICAgICAgICAgICAgICBpbmZsdWVuY2VyRGF0YS5zYXZlKGZ1bmN0aW9uIChlcnIxLCBpbmZsdV9kYXRhX3Jlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIgfHwgZXJyMSkgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcInN1Y2Nlc3NcIixzdGF0dXNDb2RlOjIwMCxkYXRhOmluZmx1ZW5jZXJfcmVzLG1zZzpcIlNpZ251cCAmIFNpZ25JbiBzdWNjZXNzZnVsbHkhXCJ9KTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pOyBcclxuICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvdGVzdCcsIGZ1bmN0aW9uKHJlcSxyZXMpIHtcclxuICAgICAgcmVzLmpzb24oXCJpdCB3b3JrZWR2aWpheVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJvdXRlci5nZXQoJy9nZXRJbmZsdWVuY2VycycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICAvLyAgIGluZmx1ZW5jZXIuaW5mbHVlbmNlcnMuZmluZCh7fSwgZnVuY3Rpb24oZXJyLCBpbmZsdWVuY2Vyc19kdCkge1xyXG4gICAgLy8gICAgIGlmIChlcnIpICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLGVycm9yOmVycn0pO1xyXG4gICAgLy8gICAgIHJlcy5qc29uKHtzdGF0dXM6XCJzdWNjZXNzXCIsc3RhdHVzQ29kZToyMDAsZGF0YTppbmZsdWVuY2Vyc19kdH0pO1xyXG4gICAgLy8gIH0pO1xyXG5cclxuICAgIGluZmx1ZW5jZXJzX2RhdGEuaW5mbHVlbmNlcnNfZGF0YS5hZ2dyZWdhdGUoW1xyXG4gICAgICB7IFwiJGxvb2t1cFwiOiB7XHJcbiAgICAgICAgICAgICAgXCJmcm9tXCI6IFwiaW5mbHVlbmNlcnNcIixcclxuICAgICAgICAgICAgICBcImxvY2FsRmllbGRcIjogXCJpbmZsdWVuY2VyaWRcIixcclxuICAgICAgICAgICAgICBcImZvcmVpZ25GaWVsZFwiOiBcIl9pZFwiLFxyXG4gICAgICAgICAgICAgIFwiYXNcIjogXCJ2YWxzXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBdLCBmdW5jdGlvbihlcnIsIHJlc19kYXRhKSB7XHJcbiAgICAgICAgICAgaWYgKGVycikgIHJlcy5qc29uKHtzdGF0dXM6XCJmYWlsdXJlXCIsc3RhdHVzQ29kZToxMDAsZXJyb3I6ZXJyfSk7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdGF0dXM6XCJzdWNjZXNzXCIsc3RhdHVzQ29kZToyMDAsZGF0YTpyZXNfZGF0YX0pO1xyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvZ2V0SW5mbHVlbmNlcnMxJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcclxuXHJcblxyXG4gICAgICBpbmZsdWVuY2VyLmluZmx1ZW5jZXJzLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAgeyBcIiRsb29rdXBcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJmcm9tXCI6IFwiaW5mbHVlbmNlcnNfZGF0YVwiLFxyXG4gICAgICAgICAgICAgICAgLy9cInN0YXJ0V2l0aFwiOiBcIiRwYXJlbnRcIixcclxuICAgICAgICAgICAgICAgIFwibG9jYWxGaWVsZFwiOiBcIl9pZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJmb3JlaWduRmllbGRcIjogXCJpbmZsdWVuY2VyaWRcIixcclxuICAgICAgICAgICAgICAgIFwiYXNcIjogXCJ2YWxzXCJcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBdLCBmdW5jdGlvbihlcnIsIHJlc19kYXRhKSB7XHJcbiAgICAgICAgICAgICBpZiAoZXJyKSAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxlcnJvcjplcnJ9KTtcclxuICAgICAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6cmVzX2RhdGF9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgfSk7XHJcblxyXG4gICAgIHJvdXRlci5wb3N0KCcvc2luZ2xlSW5mbHVlbmNlcicsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcbiAgICAgIC8vIGluZmx1ZW5jZXIuaW5mbHVlbmNlcnMuZmluZCh7X2lkOnJlcS5ib2R5LmlkfSwgZnVuY3Rpb24oZXJyLCBpbmZsdWVuY2VyX2RhdGEpIHtcclxuICAgICAgLy8gICBpZiAoZXJyKSAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxlcnJvcjplcnJ9KTtcclxuICAgICAgLy8gICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6aW5mbHVlbmNlcl9kYXRhfSk7XHJcbiAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgaW5mbHVlbmNlcnNfZGF0YS5pbmZsdWVuY2Vyc19kYXRhLmFnZ3JlZ2F0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiJGxvb2t1cFwiOntcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgZnJvbTogJ2luZmx1ZW5jZXJzJyxcclxuICAgICAgICAgICAgICBsb2NhbEZpZWxkOiAnaW5mbHVlbmNlcmlkJyxcclxuICAgICAgICAgICAgICBmb3JlaWduRmllbGQ6ICdfaWQnLFxyXG4gICAgICAgICAgICAgIGFzOiAnZGF0YSdcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH19LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgXCIkbWF0Y2hcIjp7XHJcbiAgICAgICAgICAgICAgICBfaWQ6cmVxLmJvZHkuaWRcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgICAgICxmdW5jdGlvbihlcnIsaW5mbHVlbmNlcl9kYXRhKXtcclxuICAgICAgICBpZihlcnIpIHJlcy5qc29uKHtzdGF0dXM6XCJmYWlsdXJlXCIsc3RhdHVzQ29kZToxMDAsZXJyb3I6ZXJyfSk7XHJcbiAgICBcclxuICAgICAgICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6aW5mbHVlbmNlcl9kYXRhfSk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "influencers.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "mongoose",
        "influencer",
        "influencers_data",
        "passwordHash",
        "ObjectId",
        "post",
        "req",
        "res",
        "console",
        "log",
        "body",
        "influencer_signup",
        "influencerCreate",
        "influencers",
        "influencerData",
        "datetime",
        "Date",
        "pass",
        "generate",
        "password",
        "joindate",
        "tiktok",
        "instagram",
        "insta",
        "facebook",
        "fb",
        "twitter",
        "twitterfollowers",
        "twitter_followers",
        "tiktokfollowers",
        "tiktok_followers",
        "facebookfollowers",
        "fb_followers",
        "instagramfollowers",
        "insta_followers",
        "findOne",
        "email",
        "err",
        "json",
        "status",
        "statusCode",
        "msg",
        "name",
        "save",
        "influencer_res",
        "influencerid",
        "err1",
        "influ_data_res",
        "data",
        "get",
        "next",
        "aggregate",
        "res_data",
        "error",
        "from",
        "localField",
        "foreignField",
        "as",
        "_id",
        "id",
        "influencer_data",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "sourcesContent": [
        "\r\nvar express = require('express');\r\nvar router = express.Router();\r\nvar mongoose = require('mongoose');\r\nconst influencer = require('../models/influencers');\r\nconst influencers_data = require('../models/influencers_data');\r\n//const email = require('../config/email');\r\n//const nodemailer = require('nodemailer');\r\nvar passwordHash = require('password-hash');\r\nconst {ObjectId} = require('mongodb'); \r\n\r\n//process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"1\";\r\n\r\nrouter.post('/register', async function(req,res) {\r\nconsole.log(req.body.influencer_signup);\r\n      var influencerCreate =  new influencer.influencers(req.body.influencer_signup);\r\n      var influencerData =  new influencers_data.influencers_data(req.body.influencer_signup);\r\n\r\n      var datetime = new Date();\r\n      let pass = passwordHash.generate(req.body.influencer_signup.password)\r\n\r\n      influencerCreate.joindate = datetime\r\n      influencerCreate.password = pass\r\n      influencerCreate.tiktok = req.body.influencer_signup.tiktok\r\n      influencerCreate.instagram = req.body.influencer_signup.insta\r\n      influencerCreate.facebook = req.body.influencer_signup.fb\r\n      influencerCreate.twitter = req.body.influencer_signup.twitter\r\n\r\n      influencerData.twitterfollowers = req.body.influencer_signup.twitter_followers\r\n      influencerData.tiktokfollowers = req.body.influencer_signup.tiktok_followers\r\n      influencerData.facebookfollowers = req.body.influencer_signup.fb_followers\r\n      influencerData.instagramfollowers = req.body.influencer_signup.insta_followers\r\n      \r\n      influencer.influencers.findOne({email:req.body.influencer_signup.email}, function(err, influencers) {\r\n        if (err)  res.json({status:\"failure\",statusCode:100,msg:err});\r\n        \r\n        if(influencers){\r\n          console.log(influencers)\r\n          res.json({status:\"failure\",statusCode:100,msg:\"Email already exists!!\"});\r\n        }else{\r\n            influencer.influencers.findOne({name:req.body.influencer_signup.name}, function(err, influencers) {\r\n            if (err)  res.json({status:\"failure\",statusCode:100,msg:err});\r\n        \r\n            if(influencers){\r\n              console.log(influencers)\r\n              res.json({status:\"failure\",statusCode:100,msg:\"Username already exists!!\"});\r\n            }\r\n            else{\r\n              \r\n                influencerCreate.save(function (err, influencer_res) {\r\n                  influencerData.influencerid = influencer_res['_id']\r\n                  influencerData.save(function (err1, influ_data_res) {\r\n                    if (err || err1) res.json({status:\"failure\",statusCode:100,msg:err});\r\n                    res.json({status:\"success\",statusCode:200,data:influencer_res,msg:\"Signup & SignIn successfully!\"});\r\n                  });\r\n                });\r\n            }\r\n          })\r\n        }\r\n      }); \r\n      \r\n    });\r\n\r\n    router.get('/test', function(req,res) {\r\n      res.json(\"it workedvijay\");\r\n    });\r\n\r\n    router.get('/getInfluencers', function(req, res, next) {\r\n    //   influencer.influencers.find({}, function(err, influencers_dt) {\r\n    //     if (err)  res.json({status:\"failure\",statusCode:100,error:err});\r\n    //     res.json({status:\"success\",statusCode:200,data:influencers_dt});\r\n    //  });\r\n\r\n    influencers_data.influencers_data.aggregate([\r\n      { \"$lookup\": {\r\n              \"from\": \"influencers\",\r\n              \"localField\": \"influencerid\",\r\n              \"foreignField\": \"_id\",\r\n              \"as\": \"vals\"\r\n            }\r\n      }\r\n\r\n      ], function(err, res_data) {\r\n           if (err)  res.json({status:\"failure\",statusCode:100,error:err});\r\n            res.json({status:\"success\",statusCode:200,data:res_data});\r\n          })\r\n\r\n    });\r\n\r\n    router.get('/getInfluencers1', function(req, res, next) {\r\n\r\n\r\n      influencer.influencers.aggregate([\r\n        { \"$lookup\": {\r\n                \"from\": \"influencers_data\",\r\n                //\"startWith\": \"$parent\",\r\n                \"localField\": \"_id\",\r\n                \"foreignField\": \"influencerid\",\r\n                \"as\": \"vals\"\r\n              }\r\n        }\r\n\r\n        ], function(err, res_data) {\r\n             if (err)  res.json({status:\"failure\",statusCode:100,error:err});\r\n              res.json({status:\"success\",statusCode:200,data:res_data});\r\n            })\r\n\r\n     });\r\n\r\n     router.post('/singleInfluencer', function(req, res) {\r\n      // influencer.influencers.find({_id:req.body.id}, function(err, influencer_data) {\r\n      //   if (err)  res.json({status:\"failure\",statusCode:100,error:err});\r\n      //   res.json({status:\"success\",statusCode:200,data:influencer_data});\r\n      // });\r\n\r\n      influencers_data.influencers_data.aggregate(\r\n        [\r\n          {\r\n            \"$lookup\":{\r\n            \r\n              from: 'influencers',\r\n              localField: 'influencerid',\r\n              foreignField: '_id',\r\n              as: 'data'\r\n            \r\n            }},\r\n            {\r\n              \"$match\":{\r\n                _id:req.body.id\r\n              }\r\n            }\r\n      ]\r\n        ,function(err,influencer_data){\r\n        if(err) res.json({status:\"failure\",statusCode:100,error:err});\r\n    \r\n        res.json({status:\"success\",statusCode:200,data:influencer_data});\r\n      })\r\n\r\n    });\r\n\r\n\r\n    module.exports = router;"
      ]
    },
    "sourceType": "module",
    "mtime": 1609417582000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\influencers.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\models\\influencers.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\models\\influencers.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\models\\influencers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
        "sourceFileName": "influencers.js"
      }
    },
    "ast": null,
    "code": "var mongoose = require('mongoose');\n\nconst Schema = mongoose.Schema;\nconst influencersSchema = new Schema({\n  id: String,\n  // String is shorthand for {type: String}\n  name: String,\n  email: String,\n  password: String,\n  tiktok: Boolean,\n  instagram: Boolean,\n  facebook: Boolean,\n  twitter: Boolean,\n  joindate: Date\n});\nconst influencers = mongoose.model('influencers', influencersSchema);\nmodule.exports = {\n  influencers,\n  influencersSchema\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZmx1ZW5jZXJzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsImluZmx1ZW5jZXJzU2NoZW1hIiwiaWQiLCJTdHJpbmciLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInRpa3RvayIsIkJvb2xlYW4iLCJpbnN0YWdyYW0iLCJmYWNlYm9vayIsInR3aXR0ZXIiLCJqb2luZGF0ZSIsIkRhdGUiLCJpbmZsdWVuY2VycyIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBeEI7QUFFQSxNQUFNQyxpQkFBaUIsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDbkNFLEVBQUFBLEVBQUUsRUFBR0MsTUFEOEI7QUFDdEI7QUFDYkMsRUFBQUEsSUFBSSxFQUFFRCxNQUY2QjtBQUduQ0UsRUFBQUEsS0FBSyxFQUFJRixNQUgwQjtBQUluQ0csRUFBQUEsUUFBUSxFQUFJSCxNQUp1QjtBQUtuQ0ksRUFBQUEsTUFBTSxFQUFJQyxPQUx5QjtBQU1uQ0MsRUFBQUEsU0FBUyxFQUFJRCxPQU5zQjtBQU9uQ0UsRUFBQUEsUUFBUSxFQUFJRixPQVB1QjtBQVFuQ0csRUFBQUEsT0FBTyxFQUFJSCxPQVJ3QjtBQVNuQ0ksRUFBQUEsUUFBUSxFQUFJQztBQVR1QixDQUFYLENBQTFCO0FBWUEsTUFBT0MsV0FBVyxHQUFHaEIsUUFBUSxDQUFDaUIsS0FBVCxDQUFlLGFBQWYsRUFBOEJkLGlCQUE5QixDQUFyQjtBQUNBZSxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFBRUgsRUFBQUEsV0FBRjtBQUFjYixFQUFBQTtBQUFkLENBQWpCIiwic291cmNlUm9vdCI6IkU6XFxib29tYWR2ZXJ0aXNlbWVudFxcc2VydmVyYXBpXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IGluZmx1ZW5jZXJzU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgaWQ6ICBTdHJpbmcsIC8vIFN0cmluZyBpcyBzaG9ydGhhbmQgZm9yIHt0eXBlOiBTdHJpbmd9XHJcbiAgbmFtZTogU3RyaW5nLFxyXG4gIGVtYWlsOiAgIFN0cmluZyxcclxuICBwYXNzd29yZDogICBTdHJpbmcsXHJcbiAgdGlrdG9rOiAgIEJvb2xlYW4sXHJcbiAgaW5zdGFncmFtOiAgIEJvb2xlYW4sXHJcbiAgZmFjZWJvb2s6ICAgQm9vbGVhbixcclxuICB0d2l0dGVyOiAgIEJvb2xlYW4sXHJcbiAgam9pbmRhdGU6ICAgRGF0ZSxcclxufVxyXG4pO1xyXG5jb25zdCAgaW5mbHVlbmNlcnMgPSBtb25nb29zZS5tb2RlbCgnaW5mbHVlbmNlcnMnLCBpbmZsdWVuY2Vyc1NjaGVtYSk7XHJcbm1vZHVsZS5leHBvcnRzID0geyBpbmZsdWVuY2VycyxpbmZsdWVuY2Vyc1NjaGVtYSB9IDsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "influencers.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "influencersSchema",
        "id",
        "String",
        "name",
        "email",
        "password",
        "tiktok",
        "Boolean",
        "instagram",
        "facebook",
        "twitter",
        "joindate",
        "Date",
        "influencers",
        "model",
        "module",
        "exports"
      ],
      "mappings": "AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,MAAMC,iBAAiB,GAAG,IAAID,MAAJ,CAAW;AACnCE,EAAAA,EAAE,EAAGC,MAD8B;AACtB;AACbC,EAAAA,IAAI,EAAED,MAF6B;AAGnCE,EAAAA,KAAK,EAAIF,MAH0B;AAInCG,EAAAA,QAAQ,EAAIH,MAJuB;AAKnCI,EAAAA,MAAM,EAAIC,OALyB;AAMnCC,EAAAA,SAAS,EAAID,OANsB;AAOnCE,EAAAA,QAAQ,EAAIF,OAPuB;AAQnCG,EAAAA,OAAO,EAAIH,OARwB;AASnCI,EAAAA,QAAQ,EAAIC;AATuB,CAAX,CAA1B;AAYA,MAAOC,WAAW,GAAGhB,QAAQ,CAACiB,KAAT,CAAe,aAAf,EAA8Bd,iBAA9B,CAArB;AACAe,MAAM,CAACC,OAAP,GAAiB;AAAEH,EAAAA,WAAF;AAAcb,EAAAA;AAAd,CAAjB",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "sourcesContent": [
        "var mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst influencersSchema = new Schema({\r\n  id:  String, // String is shorthand for {type: String}\r\n  name: String,\r\n  email:   String,\r\n  password:   String,\r\n  tiktok:   Boolean,\r\n  instagram:   Boolean,\r\n  facebook:   Boolean,\r\n  twitter:   Boolean,\r\n  joindate:   Date,\r\n}\r\n);\r\nconst  influencers = mongoose.model('influencers', influencersSchema);\r\nmodule.exports = { influencers,influencersSchema } ;"
      ]
    },
    "sourceType": "module",
    "mtime": 1609322950000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\models\\\\influencers_data.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\models\\influencers_data.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\models\\influencers_data.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\models\\influencers_data.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
        "sourceFileName": "influencers_data.js"
      }
    },
    "ast": null,
    "code": "var mongoose = require('mongoose');\n\nconst Schema = mongoose.Schema;\nconst influencers_dataSchema = new Schema({\n  id: String,\n  // String is shorthand for {type: String}\n  influencerid: {\n    type: mongoose.Schema.ObjectId\n  },\n  tiktokfollowers: String,\n  instagramfollowers: String,\n  facebookfollowers: String,\n  twitterfollowers: String\n});\nconst influencers_data = mongoose.model('influencers_data', influencers_dataSchema);\nmodule.exports = {\n  influencers_data,\n  influencers_dataSchema\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZmx1ZW5jZXJzX2RhdGEuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwiaW5mbHVlbmNlcnNfZGF0YVNjaGVtYSIsImlkIiwiU3RyaW5nIiwiaW5mbHVlbmNlcmlkIiwidHlwZSIsIk9iamVjdElkIiwidGlrdG9rZm9sbG93ZXJzIiwiaW5zdGFncmFtZm9sbG93ZXJzIiwiZmFjZWJvb2tmb2xsb3dlcnMiLCJ0d2l0dGVyZm9sbG93ZXJzIiwiaW5mbHVlbmNlcnNfZGF0YSIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBeEI7QUFFQSxNQUFNQyxzQkFBc0IsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDeENFLEVBQUFBLEVBQUUsRUFBR0MsTUFEbUM7QUFDM0I7QUFDYkMsRUFBQUEsWUFBWSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRVAsUUFBUSxDQUFDRSxNQUFULENBQWdCTTtBQUF4QixHQUYwQjtBQUd4Q0MsRUFBQUEsZUFBZSxFQUFJSixNQUhxQjtBQUl4Q0ssRUFBQUEsa0JBQWtCLEVBQUlMLE1BSmtCO0FBS3hDTSxFQUFBQSxpQkFBaUIsRUFBSU4sTUFMbUI7QUFNeENPLEVBQUFBLGdCQUFnQixFQUFJUDtBQU5vQixDQUFYLENBQS9CO0FBUUEsTUFBT1EsZ0JBQWdCLEdBQUdiLFFBQVEsQ0FBQ2MsS0FBVCxDQUFlLGtCQUFmLEVBQW1DWCxzQkFBbkMsQ0FBMUI7QUFDQVksTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUVILEVBQUFBLGdCQUFGO0FBQW1CVixFQUFBQTtBQUFuQixDQUFqQiIsInNvdXJjZVJvb3QiOiJFOlxcYm9vbWFkdmVydGlzZW1lbnRcXHNlcnZlcmFwaVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBpbmZsdWVuY2Vyc19kYXRhU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgaWQ6ICBTdHJpbmcsIC8vIFN0cmluZyBpcyBzaG9ydGhhbmQgZm9yIHt0eXBlOiBTdHJpbmd9XHJcbiAgaW5mbHVlbmNlcmlkOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5PYmplY3RJZH0sXHJcbiAgdGlrdG9rZm9sbG93ZXJzOiAgIFN0cmluZyxcclxuICBpbnN0YWdyYW1mb2xsb3dlcnM6ICAgU3RyaW5nLFxyXG4gIGZhY2Vib29rZm9sbG93ZXJzOiAgIFN0cmluZyxcclxuICB0d2l0dGVyZm9sbG93ZXJzOiAgIFN0cmluZ1xyXG59KTtcclxuY29uc3QgIGluZmx1ZW5jZXJzX2RhdGEgPSBtb25nb29zZS5tb2RlbCgnaW5mbHVlbmNlcnNfZGF0YScsIGluZmx1ZW5jZXJzX2RhdGFTY2hlbWEpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHsgaW5mbHVlbmNlcnNfZGF0YSxpbmZsdWVuY2Vyc19kYXRhU2NoZW1hIH0gOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "influencers_data.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "influencers_dataSchema",
        "id",
        "String",
        "influencerid",
        "type",
        "ObjectId",
        "tiktokfollowers",
        "instagramfollowers",
        "facebookfollowers",
        "twitterfollowers",
        "influencers_data",
        "model",
        "module",
        "exports"
      ],
      "mappings": "AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAxB;AAEA,MAAMC,sBAAsB,GAAG,IAAID,MAAJ,CAAW;AACxCE,EAAAA,EAAE,EAAGC,MADmC;AAC3B;AACbC,EAAAA,YAAY,EAAE;AAAEC,IAAAA,IAAI,EAAEP,QAAQ,CAACE,MAAT,CAAgBM;AAAxB,GAF0B;AAGxCC,EAAAA,eAAe,EAAIJ,MAHqB;AAIxCK,EAAAA,kBAAkB,EAAIL,MAJkB;AAKxCM,EAAAA,iBAAiB,EAAIN,MALmB;AAMxCO,EAAAA,gBAAgB,EAAIP;AANoB,CAAX,CAA/B;AAQA,MAAOQ,gBAAgB,GAAGb,QAAQ,CAACc,KAAT,CAAe,kBAAf,EAAmCX,sBAAnC,CAA1B;AACAY,MAAM,CAACC,OAAP,GAAiB;AAAEH,EAAAA,gBAAF;AAAmBV,EAAAA;AAAnB,CAAjB",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\models\\",
      "sourcesContent": [
        "var mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst influencers_dataSchema = new Schema({\r\n  id:  String, // String is shorthand for {type: String}\r\n  influencerid: { type: mongoose.Schema.ObjectId},\r\n  tiktokfollowers:   String,\r\n  instagramfollowers:   String,\r\n  facebookfollowers:   String,\r\n  twitterfollowers:   String\r\n});\r\nconst  influencers_data = mongoose.model('influencers_data', influencers_dataSchema);\r\nmodule.exports = { influencers_data,influencers_dataSchema } ;"
      ]
    },
    "sourceType": "module",
    "mtime": 1609322946000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\login.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\routes\\login.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\routes\\login.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\routes\\login.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
        "sourceFileName": "login.js"
      }
    },
    "ast": null,
    "code": "var express = require('express');\n\nvar router = express.Router(); //const nodemailer = require('nodemailer');\n\nvar mongoose = require('mongoose');\n\nconst promoters = require('../models/promoters');\n\nconst influencers = require('../models/influencers');\n\nvar passwordHash = require('password-hash'); //const user = require('../models/users');\n//const email = require('../config/email');\n// const app = express();\n// const cors = require(\"cors\");\n// app.use(function (req, res, next) {\n//     //Enabling CORS\n//     res.header(\"Access-Control-Allow-Origin\", \"*\");\n//     res.header(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\n//     res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, x-client-key, x-client-token, x-client-secret, Authorization\");\n//     next();\n// });\n\n\nrouter.post('/', function (req, res) {\n  console.log(req.body.signin);\n\n  if (req.body.signin.user_type == 0) {\n    if (!passwordHash.isHashed(req.body.signin.password)) {\n      var hashedPassword = passwordHash.generate(req.body.signin.password); //console.log(hashedPassword)\n\n      influencers.influencers.find({\n        $or: [{\n          name: req.body.signin.email\n        }, {\n          'email': req.body.signin.email\n        }]\n      }, function (err, influencers) {\n        if (err) {\n          res.json({\n            status: \"failure\",\n            statusCode: 600,\n            msg: err\n          });\n        } else if (influencers.length == 0) {\n          console.log('hii man');\n          console.log(influencers.length);\n          res.json({\n            status: \"failure\",\n            statusCode: 500,\n            msg: \"Invalid Credentials!!!\"\n          });\n        } else {\n          if (passwordHash.verify(req.body.signin.password, influencers[0].password)) {\n            console.log(influencers);\n            res.json({\n              status: \"success\",\n              statusCode: 200,\n              data: influencers,\n              msg: \"Login successfully...\"\n            });\n          } else {\n            res.json({\n              status: \"failure\",\n              statusCode: 100,\n              msg: \"Invalid Credentials!!!\"\n            });\n          }\n        }\n      });\n    }\n  } else {\n    if (!passwordHash.isHashed(req.body.signin.password)) {\n      var hashedPassword = passwordHash.generate(req.body.signin.password); //console.log(hashedPassword)\n\n      promoters.promoters.find({\n        $or: [{\n          name: req.body.signin.email\n        }, {\n          'email': req.body.signin.email\n        }]\n      }, function (err, promoters) {\n        if (err) {\n          res.json({\n            status: \"failure\",\n            statusCode: 100,\n            msg: err\n          });\n        } else if (promoters.length == 0) {\n          res.json({\n            status: \"failure\",\n            statusCode: 100,\n            msg: \"Invalid Credentials!!!\"\n          });\n        } else {\n          if (passwordHash.verify(req.body.signin.password, promoters[0].password)) {\n            console.log(promoters);\n            res.json({\n              status: \"success\",\n              statusCode: 200,\n              data: promoters,\n              msg: \"Login successfully...\"\n            });\n          } else {\n            res.json({\n              status: \"failure\",\n              statusCode: 100,\n              msg: \"Invalid Credentials!!!\"\n            });\n          }\n        }\n      });\n    }\n  } // else{\n  // promoters.promoters\n  // .find({ $or : [{name:req.body.signin.email},{'email':req.body.signin.email}]},function (err, promoters) {\n  //     if (err) {\n  //         res.json({status:\"failure\",statusCode:100,data:err});\n  //     }else if(promoters.length==0){\n  //       res.json({status:\"failure\",statusCode:100,data:\"Invalid Credentials!!!\"});\n  //       }\n  //       else{\n  //         if(passwordHash.verify(req.body.signin.password, promoters[0].password)){\n  //           console.log(promoters)\n  //           res.json({status:\"success\",statusCode:200,data:promoters});\n  //         }\n  //       }\n  //   });\n  // } \n\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwibW9uZ29vc2UiLCJwcm9tb3RlcnMiLCJpbmZsdWVuY2VycyIsInBhc3N3b3JkSGFzaCIsInBvc3QiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsInNpZ25pbiIsInVzZXJfdHlwZSIsImlzSGFzaGVkIiwicGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImdlbmVyYXRlIiwiZmluZCIsIiRvciIsIm5hbWUiLCJlbWFpbCIsImVyciIsImpzb24iLCJzdGF0dXMiLCJzdGF0dXNDb2RlIiwibXNnIiwibGVuZ3RoIiwidmVyaWZ5IiwiZGF0YSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUNBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7O0FBQ0EsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBYixDLENBQ0E7O0FBQ0EsSUFBSUMsUUFBUSxHQUFHSCxPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFDQSxNQUFNSSxTQUFTLEdBQUdKLE9BQU8sQ0FBQyxxQkFBRCxDQUF6Qjs7QUFDQSxNQUFNSyxXQUFXLEdBQUdMLE9BQU8sQ0FBQyx1QkFBRCxDQUEzQjs7QUFDQSxJQUFJTSxZQUFZLEdBQUdOLE9BQU8sQ0FBQyxlQUFELENBQTFCLEMsQ0FDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQUMsTUFBTSxDQUFDTSxJQUFQLENBQVksR0FBWixFQUFpQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDakNDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFHLENBQUNJLElBQUosQ0FBU0MsTUFBckI7O0FBQ0QsTUFBR0wsR0FBRyxDQUFDSSxJQUFKLENBQVNDLE1BQVQsQ0FBZ0JDLFNBQWhCLElBQTZCLENBQWhDLEVB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0QsQ0FsRUg7QUFvRUVJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQi9CLE1BQWpCIiwic291cmNlUm9vdCI6IkU6XFxib29tYWR2ZXJ0aXNlbWVudFxcc2VydmVyYXBpXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbi8vY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoJ25vZGVtYWlsZXInKTtcclxudmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgcHJvbW90ZXJzID0gcmVxdWlyZSgnLi4vbW9kZWxzL3Byb21vdGVycycpO1xyXG5jb25zdCBpbmZsdWVuY2VycyA9IHJlcXVpcmUoJy4uL21vZGVscy9pbmZsdWVuY2VycycpO1xyXG52YXIgcGFzc3dvcmRIYXNoID0gcmVxdWlyZSgncGFzc3dvcmQtaGFzaCcpO1xyXG4vL2NvbnN0IHVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlcnMnKTtcclxuLy9jb25zdCBlbWFpbCA9IHJlcXVpcmUoJy4uL2NvbmZpZy9lbWFpbCcpO1xyXG4vLyBjb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbi8vIGNvbnN0IGNvcnMgPSByZXF1aXJlKFwiY29yc1wiKTtcclxuLy8gYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcclxuLy8gICAgIC8vRW5hYmxpbmcgQ09SU1xyXG4vLyAgICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCBcIipcIik7XHJcbi8vICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxIRUFELE9QVElPTlMsUE9TVCxQVVRcIik7XHJcbi8vICAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIk9yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQsIHgtY2xpZW50LWtleSwgeC1jbGllbnQtdG9rZW4sIHgtY2xpZW50LXNlY3JldCwgQXV0aG9yaXphdGlvblwiKTtcclxuLy8gICAgIG5leHQoKTtcclxuLy8gfSk7XHJcblxyXG5cclxucm91dGVyLnBvc3QoJy8nLCBmdW5jdGlvbihyZXEsIHJlcykge1xyXG4gICBjb25zb2xlLmxvZyhyZXEuYm9keS5zaWduaW4pXHJcbiAgaWYocmVxLmJvZHkuc2lnbmluLnVzZXJfdHlwZSA9PSAwKXtcclxuXHJcbiAgICBpZighcGFzc3dvcmRIYXNoLmlzSGFzaGVkKHJlcS5ib2R5LnNpZ25pbi5wYXNzd29yZCkpe1xyXG4gICAgICB2YXIgaGFzaGVkUGFzc3dvcmQgPSBwYXNzd29yZEhhc2guZ2VuZXJhdGUocmVxLmJvZHkuc2lnbmluLnBhc3N3b3JkKTtcclxuICAgICAgLy9jb25zb2xlLmxvZyhoYXNoZWRQYXNzd29yZClcclxuICAgICAgaW5mbHVlbmNlcnMuaW5mbHVlbmNlcnNcclxuICAgICAgICAuZmluZCh7ICRvciA6IFt7bmFtZTpyZXEuYm9keS5zaWduaW4uZW1haWx9LHsnZW1haWwnOnJlcS5ib2R5LnNpZ25pbi5lbWFpbH1dfSxmdW5jdGlvbiAoZXJyLCBpbmZsdWVuY2Vycykge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjYwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgfWVsc2UgaWYoaW5mbHVlbmNlcnMubGVuZ3RoPT0wKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdoaWkgbWFuJyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhpbmZsdWVuY2Vycy5sZW5ndGgpO1xyXG4gICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjUwMCxtc2c6XCJJbnZhbGlkIENyZWRlbnRpYWxzISEhXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpZihwYXNzd29yZEhhc2gudmVyaWZ5KHJlcS5ib2R5LnNpZ25pbi5wYXNzd29yZCwgaW5mbHVlbmNlcnNbMF0ucGFzc3dvcmQpKXtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbmZsdWVuY2VycylcclxuICAgICAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwic3VjY2Vzc1wiLHN0YXR1c0NvZGU6MjAwLGRhdGE6aW5mbHVlbmNlcnMsbXNnOlwiTG9naW4gc3VjY2Vzc2Z1bGx5Li4uXCJ9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6XCJJbnZhbGlkIENyZWRlbnRpYWxzISEhXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfWVsc2V7XHJcbiAgICBpZighcGFzc3dvcmRIYXNoLmlzSGFzaGVkKHJlcS5ib2R5LnNpZ25pbi5wYXNzd29yZCkpe1xyXG4gICAgICB2YXIgaGFzaGVkUGFzc3dvcmQgPSBwYXNzd29yZEhhc2guZ2VuZXJhdGUocmVxLmJvZHkuc2lnbmluLnBhc3N3b3JkKTtcclxuICAgICAgLy9jb25zb2xlLmxvZyhoYXNoZWRQYXNzd29yZClcclxuICAgICAgcHJvbW90ZXJzLnByb21vdGVyc1xyXG4gICAgICAgIC5maW5kKHsgJG9yIDogW3tuYW1lOnJlcS5ib2R5LnNpZ25pbi5lbWFpbH0seydlbWFpbCc6cmVxLmJvZHkuc2lnbmluLmVtYWlsfV19LGZ1bmN0aW9uIChlcnIsIHByb21vdGVycykge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcImZhaWx1cmVcIixzdGF0dXNDb2RlOjEwMCxtc2c6ZXJyfSk7XHJcbiAgICAgICAgfWVsc2UgaWYocHJvbW90ZXJzLmxlbmd0aD09MCl7XHJcbiAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzpcIkludmFsaWQgQ3JlZGVudGlhbHMhISFcIn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGlmKHBhc3N3b3JkSGFzaC52ZXJpZnkocmVxLmJvZHkuc2lnbmluLnBhc3N3b3JkLCBwcm9tb3RlcnNbMF0ucGFzc3dvcmQpKXtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9tb3RlcnMpXHJcbiAgICAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcInN1Y2Nlc3NcIixzdGF0dXNDb2RlOjIwMCxkYXRhOnByb21vdGVycyxtc2c6XCJMb2dpbiBzdWNjZXNzZnVsbHkuLi5cIn0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLG1zZzpcIkludmFsaWQgQ3JlZGVudGlhbHMhISFcIn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICAgIC8vIGVsc2V7XHJcbiAgICAvLyBwcm9tb3RlcnMucHJvbW90ZXJzXHJcbiAgICAvLyAuZmluZCh7ICRvciA6IFt7bmFtZTpyZXEuYm9keS5zaWduaW4uZW1haWx9LHsnZW1haWwnOnJlcS5ib2R5LnNpZ25pbi5lbWFpbH1dfSxmdW5jdGlvbiAoZXJyLCBwcm9tb3RlcnMpIHtcclxuICAgICAgXHJcbiAgICAvLyAgICAgaWYgKGVycikge1xyXG4gICAgLy8gICAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLGRhdGE6ZXJyfSk7XHJcbiAgICAvLyAgICAgfWVsc2UgaWYocHJvbW90ZXJzLmxlbmd0aD09MCl7XHJcbiAgICAvLyAgICAgICByZXMuanNvbih7c3RhdHVzOlwiZmFpbHVyZVwiLHN0YXR1c0NvZGU6MTAwLGRhdGE6XCJJbnZhbGlkIENyZWRlbnRpYWxzISEhXCJ9KTtcclxuICAgIC8vICAgICAgIH1cclxuICAgIC8vICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIGlmKHBhc3N3b3JkSGFzaC52ZXJpZnkocmVxLmJvZHkuc2lnbmluLnBhc3N3b3JkLCBwcm9tb3RlcnNbMF0ucGFzc3dvcmQpKXtcclxuICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9tb3RlcnMpXHJcbiAgICAvLyAgICAgICAgICAgcmVzLmpzb24oe3N0YXR1czpcInN1Y2Nlc3NcIixzdGF0dXNDb2RlOjIwMCxkYXRhOnByb21vdGVyc30pO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICB9XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfSBcclxuICB9KTtcclxuXHJcbiAgbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "login.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "mongoose",
        "promoters",
        "influencers",
        "passwordHash",
        "post",
        "req",
        "res",
        "console",
        "log",
        "body",
        "signin",
        "user_type",
        "isHashed",
        "password",
        "hashedPassword",
        "generate",
        "find",
        "$or",
        "name",
        "email",
        "err",
        "json",
        "status",
        "statusCode",
        "msg",
        "length",
        "verify",
        "data",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "sourcesContent": [
        "\r\nvar express = require('express');\r\nvar router = express.Router();\r\n//const nodemailer = require('nodemailer');\r\nvar mongoose = require('mongoose');\r\nconst promoters = require('../models/promoters');\r\nconst influencers = require('../models/influencers');\r\nvar passwordHash = require('password-hash');\r\n//const user = require('../models/users');\r\n//const email = require('../config/email');\r\n// const app = express();\r\n// const cors = require(\"cors\");\r\n// app.use(function (req, res, next) {\r\n//     //Enabling CORS\r\n//     res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n//     res.header(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\r\n//     res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, x-client-key, x-client-token, x-client-secret, Authorization\");\r\n//     next();\r\n// });\r\n\r\n\r\nrouter.post('/', function(req, res) {\r\n   console.log(req.body.signin)\r\n  if(req.body.signin.user_type == 0){\r\n\r\n    if(!passwordHash.isHashed(req.body.signin.password)){\r\n      var hashedPassword = passwordHash.generate(req.body.signin.password);\r\n      //console.log(hashedPassword)\r\n      influencers.influencers\r\n        .find({ $or : [{name:req.body.signin.email},{'email':req.body.signin.email}]},function (err, influencers) {\r\n        if (err) {\r\n            res.json({status:\"failure\",statusCode:600,msg:err});\r\n        }else if(influencers.length==0){\r\n          console.log('hii man');\r\n          console.log(influencers.length);\r\n          res.json({status:\"failure\",statusCode:500,msg:\"Invalid Credentials!!!\"});\r\n        }\r\n          else{\r\n            if(passwordHash.verify(req.body.signin.password, influencers[0].password)){\r\n              console.log(influencers)\r\n              res.json({status:\"success\",statusCode:200,data:influencers,msg:\"Login successfully...\"});\r\n            }else{\r\n              res.json({status:\"failure\",statusCode:100,msg:\"Invalid Credentials!!!\"});\r\n            }\r\n          }\r\n      });\r\n    }\r\n\r\n  }else{\r\n    if(!passwordHash.isHashed(req.body.signin.password)){\r\n      var hashedPassword = passwordHash.generate(req.body.signin.password);\r\n      //console.log(hashedPassword)\r\n      promoters.promoters\r\n        .find({ $or : [{name:req.body.signin.email},{'email':req.body.signin.email}]},function (err, promoters) {\r\n        if (err) {\r\n            res.json({status:\"failure\",statusCode:100,msg:err});\r\n        }else if(promoters.length==0){\r\n          res.json({status:\"failure\",statusCode:100,msg:\"Invalid Credentials!!!\"});\r\n        }\r\n          else{\r\n            if(passwordHash.verify(req.body.signin.password, promoters[0].password)){\r\n              console.log(promoters)\r\n              res.json({status:\"success\",statusCode:200,data:promoters,msg:\"Login successfully...\"});\r\n            }else{\r\n              res.json({status:\"failure\",statusCode:100,msg:\"Invalid Credentials!!!\"});\r\n            }\r\n          }\r\n      });\r\n    }\r\n  }\r\n    // else{\r\n    // promoters.promoters\r\n    // .find({ $or : [{name:req.body.signin.email},{'email':req.body.signin.email}]},function (err, promoters) {\r\n      \r\n    //     if (err) {\r\n    //         res.json({status:\"failure\",statusCode:100,data:err});\r\n    //     }else if(promoters.length==0){\r\n    //       res.json({status:\"failure\",statusCode:100,data:\"Invalid Credentials!!!\"});\r\n    //       }\r\n    //       else{\r\n    //         if(passwordHash.verify(req.body.signin.password, promoters[0].password)){\r\n    //           console.log(promoters)\r\n    //           res.json({status:\"success\",statusCode:200,data:promoters});\r\n    //         }\r\n    //       }\r\n    //   });\r\n    // } \r\n  });\r\n\r\n  module.exports = router;"
      ]
    },
    "sourceType": "module",
    "mtime": 1608881608000
  },
  "{\"sourceRoot\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"E:\\\\boomadvertisement\\\\serverapi\",\"filename\":\"E:\\\\boomadvertisement\\\\serverapi\\\\routes\\\\sessionsController.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\boomadvertisement\\\\serverapi\",\"plugins\":[],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "E:\\boomadvertisement\\serverapi",
      "filename": "E:\\boomadvertisement\\serverapi\\routes\\sessionsController.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "E:\\boomadvertisement\\serverapi",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "E:\\boomadvertisement\\serverapi\\routes\\sessionsController.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "E:\\boomadvertisement\\serverapi\\routes\\sessionsController.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
        "sourceFileName": "sessionsController.js"
      }
    },
    "ast": null,
    "code": "const express = require('express');\n\nconst router = express.Router();\n\nconst CryptoJS = require(\"crypto-js\");\n\nconst oauth = require('oauth');\n\nconst _twitterConsumerKey = process.env.TWITTER_CONSUMER_KEY;\nconst _twitterConsumerSecret = process.env.TWITTER_CONSUMER_SECRET;\nconst twitterCallbackUrl = process.env.TWITTER_CALLBACK_URL;\nconst consumer = new oauth.OAuth(\"https://twitter.com/oauth/request_token\", \"https://twitter.com/oauth/access_token\", _twitterConsumerKey, _twitterConsumerSecret, \"1.0A\", twitterCallbackUrl, \"HMAC-SHA1\");\n\nconst Twitter = require('twit'); //var url = require('url');\n//var url_parts = url.parse(request.url, true);\n//var query = url_parts.query;\n\n\nrouter.get('/connect', (req, res) => {\n  consumer.getOAuthRequestToken(function (error, oauthToken, oauthTokenSecret, results) {\n    if (error) {\n      res.send(error, 500);\n    } else {\n      req.session.oauthRequestToken = oauthToken;\n      req.session.oauthRequestTokenSecret = oauthTokenSecret;\n      const redirect = {\n        redirectUrl: `https://twitter.com/oauth/authorize?oauth_token=${req.session.oauthRequestToken}`\n      };\n      res.send(redirect);\n    }\n  });\n});\nrouter.post('/saveAccessTokens', (req, res) => {\n  consumer.getOAuthAccessToken(req.body.oauth_token, req.session.oauthRequestTokenSecret, req.body.oauth_verifier, (error, oauthAccessToken, oauthAccessTokenSecret, results) => {\n    if (error) {\n      // logger.error(error);\n      res.send(error, 500);\n    } else {\n      // req.session.oauthAccessToken = oauthAccessToken;\n      //req.session.oauthAccessTokenSecret = oauthAccessTokenSecret\n      // return res.send({ message: 'token saved' });\n      const client = new Twitter({\n        consumer_key: 'PwtlyF8xzKLgIPNDwS42nL87G',\n        consumer_secret: 'hg9QMATkfZp0ZW3K5TXRFvwfsMCe5JChzlbf2Tb3JjL7rJCWUc',\n        access_token: oauthAccessToken,\n        access_token_secret: oauthAccessTokenSecret\n      });\n      client.get('account/verify_credentials').then(user => {\n        res.send(user);\n      }).catch(error => {\n        res.send(error);\n      });\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb25zQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkNyeXB0b0pTIiwib2F1dGgiLCJfdHdpdHRlckNvbnN1bWVyS2V5IiwicHJvY2VzcyIsImVudiIsIlRXSVRURVJfQ09OU1VNRVJfS0VZIiwiX3R3aXR0ZXJDb25zdW1lclNlY3JldCIsIlRXSVRURVJfQ09OU1VNRVJfU0VDUkVUIiwidHdpdHRlckNhbGxiYWNrVXJsIiwiVFdJVFRFUl9DQUxMQkFDS19VUkwiLCJjb25zdW1lciIsIk9BdXRoIiwiVHdpdHRlciIsImdldCIsInJlcSIsInJlcyIsImdldE9BdXRoUmVxdWVzdFRva2VuIiwiZXJyb3IiLCJvYXV0aFRva2VuIiwib2F1dGhUb2tlblNlY3JldCIsInJlc3VsdHMiLCJzZW5kIiwic2Vzc2lvbiIsIm9hdXRoUmVxdWVzdFRva2VuIiwib2F1dGhSZXF1ZXN0VG9rZW5TZWNyZXQiLCJyZWRpcmVjdCIsInJlZGlyZWN0VXJsIiwicG9zdCIsImdldE9BdXRoQWNjZXNzVG9rZW4iLCJib2R5Iiwib2F1dGhfdG9rZW4iLCJvYXV0aF92ZXJpZmllciIsIm9hdXRoQWNjZXNzVG9rZW4iLCJvYXV0aEFjY2Vzc1Rva2VuU2VjcmV0IiwiY2xpZW50IiwiY29uc3VtZXJfa2V5IiwiY29uc3VtZXJfc2VjcmV0IiwiYWNjZXNzX3Rva2VuIiwiYWNjZXNzX3Rva2VuX3NlY3JldCIsInRoZW4iLCJ1c2VyIiwiY2F0Y2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQWY7O0FBQ0EsTUFBTUMsUUFBUSxHQUFHSCxPQUFPLENBQUMsV0FBRCxDQUF4Qjs7QUFDQSxNQUFNSSxLQUFLLEdBQUdKLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU1LLG1CQUFtQixHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsb0JBQXhDO0FBQ0EsTUFBTUMsc0JBQXNCLEdBQUdILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyx1QkFBM0M7QUFDQSxNQUFNQyxrQkFBa0IsR0FBR0wsT0FBTyxDQUFDQyxHQUFSLENBQVlLLG9CQUF2QztBQUNBLE1BQU1DLFFBQVEsR0FBRyxJQUFJVCxLQUFLLENBQUNVLEtBQVYsQ0FBZ0IseUNBQWhCLEVBQTJELHdDQUEzRCxFQUFvR1QsbUJBQXBHLEVBQXlISSxzQkFBekgsRUFBaUosTUFBakosRUFBeUpFLGtCQUF6SixFQUE2SyxXQUE3SyxDQUFqQjs7QUFFQSxNQUFNSSxPQUFPLEdBQUdmLE9BQU8sQ0FBQyxNQUFELENBQXZCLEMsQ0FHQTtBQUNBO0FBQ0E7OztBQUVBQyxNQUFNLENBQUNlLEdBQVAsQ0FBVyxVQUFYLEVBQXVCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ25DTCxFQUFBQSxRQUFRLENBQUNNLG9CQUFULENBQThCLFVBQVVDLEtBQVYsRUFBaUJDLFVBQWpCLEVBQStCQyxnQkFBL0IsRUFBaURDLE9BQWpELEVBQTBEO0FBQ3RGLFFBQUlILEtBQUosRUFBVztBQUNURixNQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBU0osS0FBVCxFQUFnQixHQUFoQjtBQUNELEtBRkQsTUFFTztBQUNMSCxNQUFBQSxHQUFHLENBQUNRLE9BQUosQ0FBWUMsaUJBQVosR0FBZ0NMLFVBQWhDO0FBQ0FKLE1BQUFBLEdBQUcsQ0FBQ1EsT0FBSixDQUFZRSx1QkFBWixHQUFzQ0wsZ0JBQXRDO0FBQ0EsWUFBTU0sUUFBUSxHQUFHO0FBQ3ZCQyxRQUFBQSxXQUFXLEVBQUcsbURBQWtEWixHQUFHLENBQUNRLE9BQUosQ0FBWUMsaUJBQWtCO0FBRHZFLE9BQWpCO0FBR0FSLE1BQUFBLEdBQUcsQ0FBQ00sSUFBSixDQUFTSSxRQUFUO0FBQ0Q7QUFDRixHQVhEO0FBWUQsQ0FiRDtBQWNBM0IsTUFBTSxDQUFDNkIsSUFBUCxDQUFZLG1CQUFaLEVBQWlDLENBQUNiLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzdDTCxFQUFBQSxRQUFRLENBQUNrQixtQkFBVCxDQUNBZCxHQUFHLENBQUNlLElBQUosQ0FBU0MsV0FEVCxFQUVBaEIsR0FBRyxDQUFDUSxPQUFKLENBQVlFLHVCQUZaLEVBR0FWLEdBQUcsQ0FBQ2UsSUFBSixDQUFTRSxjQUhULEVBSUEsQ0FBQ2QsS0FBRCxFQUFRZSxnQkFBUixFQUEwQkMsc0JBQTFCLEVBQWtEYixPQUFsRCxLQUE4RDtBQUM1RCxRQUFJSCxLQUFKLEVBQVc7QUFDVjtBQUNDRixNQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBU0osS0FBVCxFQUFnQixHQUFoQjtBQUNELEtBSEQsTUFJSztBQUNKO0FBQ0M7QUFDRDtBQUVDLFlBQU1pQixNQUFNLEdBQUcsSUFBSXRCLE9BQUosQ0FBWTtBQUN6QnVCLFFBQUFBLFlBQVksRUFBRSwyQkFEVztBQUV6QkMsUUFBQUEsZUFBZSxFQUFFLG9EQUZRO0FBR3pCQyxRQUFBQSxZQUFZLEVBQUVMLGdCQUhXO0FBSXpCTSxRQUFBQSxtQkFBbUIsRUFBRUw7QUFKSSxPQUFaLENBQWY7QUFPQUMsTUFBQUEsTUFBTSxDQUFDckIsR0FBUCxDQUFXLDRCQUFYLEVBQXlDMEIsSUFBekMsQ0FBOENDLElBQUksSUFBSTtBQUNwRHpCLFFBQUFBLEdBQUcsQ0FBQ00sSUFBSixDQUFTbUIsSUFBVDtBQUNELE9BRkQsRUFFR0MsS0FGSCxDQUVTeEIsS0FBSyxJQUFJO0FBQ2hCRixRQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBU0osS0FBVDtBQUNELE9BSkQ7QUFRRDtBQUNGLEdBOUJEO0FBK0JELENBaENEO0FBaUNBeUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCN0MsTUFBakIiLCJzb3VyY2VSb290IjoiRTpcXGJvb21hZHZlcnRpc2VtZW50XFxzZXJ2ZXJhcGlcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgQ3J5cHRvSlMgPSByZXF1aXJlKFwiY3J5cHRvLWpzXCIpO1xyXG5jb25zdCBvYXV0aCA9IHJlcXVpcmUoJ29hdXRoJyk7XHJcbmNvbnN0IF90d2l0dGVyQ29uc3VtZXJLZXkgPSBwcm9jZXNzLmVudi5UV0lUVEVSX0NPTlNVTUVSX0tFWTtcclxuY29uc3QgX3R3aXR0ZXJDb25zdW1lclNlY3JldCA9IHByb2Nlc3MuZW52LlRXSVRURVJfQ09OU1VNRVJfU0VDUkVUO1xyXG5jb25zdCB0d2l0dGVyQ2FsbGJhY2tVcmwgPSBwcm9jZXNzLmVudi5UV0lUVEVSX0NBTExCQUNLX1VSTDtcclxuY29uc3QgY29uc3VtZXIgPSBuZXcgb2F1dGguT0F1dGgoXCJodHRwczovL3R3aXR0ZXIuY29tL29hdXRoL3JlcXVlc3RfdG9rZW5cIiwgXCJodHRwczovL3R3aXR0ZXIuY29tL29hdXRoL2FjY2Vzc190b2tlblwiLF90d2l0dGVyQ29uc3VtZXJLZXksIF90d2l0dGVyQ29uc3VtZXJTZWNyZXQsIFwiMS4wQVwiLCB0d2l0dGVyQ2FsbGJhY2tVcmwsIFwiSE1BQy1TSEExXCIpO1xyXG5cclxuY29uc3QgVHdpdHRlciA9IHJlcXVpcmUoJ3R3aXQnKTtcclxuXHJcblxyXG4vL3ZhciB1cmwgPSByZXF1aXJlKCd1cmwnKTtcclxuLy92YXIgdXJsX3BhcnRzID0gdXJsLnBhcnNlKHJlcXVlc3QudXJsLCB0cnVlKTtcclxuLy92YXIgcXVlcnkgPSB1cmxfcGFydHMucXVlcnk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvY29ubmVjdCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN1bWVyLmdldE9BdXRoUmVxdWVzdFRva2VuKGZ1bmN0aW9uIChlcnJvciwgb2F1dGhUb2tlbiwgICBvYXV0aFRva2VuU2VjcmV0LCByZXN1bHRzKSB7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmVzLnNlbmQoZXJyb3IsIDUwMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXEuc2Vzc2lvbi5vYXV0aFJlcXVlc3RUb2tlbiA9IG9hdXRoVG9rZW47XHJcbiAgICAgIHJlcS5zZXNzaW9uLm9hdXRoUmVxdWVzdFRva2VuU2VjcmV0ID0gb2F1dGhUb2tlblNlY3JldDtcclxuICAgICAgY29uc3QgcmVkaXJlY3QgPSB7IFxyXG5yZWRpcmVjdFVybDogYGh0dHBzOi8vdHdpdHRlci5jb20vb2F1dGgvYXV0aG9yaXplP29hdXRoX3Rva2VuPSR7cmVxLnNlc3Npb24ub2F1dGhSZXF1ZXN0VG9rZW59YFxyXG4gICAgfVxyXG4gICAgICByZXMuc2VuZChyZWRpcmVjdCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5yb3V0ZXIucG9zdCgnL3NhdmVBY2Nlc3NUb2tlbnMnLCAocmVxLCByZXMpID0+IHtcclxuICBjb25zdW1lci5nZXRPQXV0aEFjY2Vzc1Rva2VuKFxyXG4gIHJlcS5ib2R5Lm9hdXRoX3Rva2VuLFxyXG4gIHJlcS5zZXNzaW9uLm9hdXRoUmVxdWVzdFRva2VuU2VjcmV0LFxyXG4gIHJlcS5ib2R5Lm9hdXRoX3ZlcmlmaWVyLFxyXG4gIChlcnJvciwgb2F1dGhBY2Nlc3NUb2tlbiwgb2F1dGhBY2Nlc3NUb2tlblNlY3JldCwgcmVzdWx0cykgPT4ge1xyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgLy8gbG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgcmVzLnNlbmQoZXJyb3IsIDUwMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAvLyByZXEuc2Vzc2lvbi5vYXV0aEFjY2Vzc1Rva2VuID0gb2F1dGhBY2Nlc3NUb2tlbjtcclxuICAgICAgLy9yZXEuc2Vzc2lvbi5vYXV0aEFjY2Vzc1Rva2VuU2VjcmV0ID0gb2F1dGhBY2Nlc3NUb2tlblNlY3JldFxyXG4gICAgIC8vIHJldHVybiByZXMuc2VuZCh7IG1lc3NhZ2U6ICd0b2tlbiBzYXZlZCcgfSk7XHJcblxyXG4gICAgICBjb25zdCBjbGllbnQgPSBuZXcgVHdpdHRlcih7XHJcbiAgICAgICAgY29uc3VtZXJfa2V5OiAnUHd0bHlGOHh6S0xnSVBORHdTNDJuTDg3RycsXHJcbiAgICAgICAgY29uc3VtZXJfc2VjcmV0OiAnaGc5UU1BVGtmWnAwWlczSzVUWFJGdndmc01DZTVKQ2h6bGJmMlRiM0pqTDdySkNXVWMnLFxyXG4gICAgICAgIGFjY2Vzc190b2tlbjogb2F1dGhBY2Nlc3NUb2tlbixcclxuICAgICAgICBhY2Nlc3NfdG9rZW5fc2VjcmV0OiBvYXV0aEFjY2Vzc1Rva2VuU2VjcmV0XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY2xpZW50LmdldCgnYWNjb3VudC92ZXJpZnlfY3JlZGVudGlhbHMnKS50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgIHJlcy5zZW5kKHVzZXIpXHJcbiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICByZXMuc2VuZChlcnJvcik7XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "sessionsController.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "CryptoJS",
        "oauth",
        "_twitterConsumerKey",
        "process",
        "env",
        "TWITTER_CONSUMER_KEY",
        "_twitterConsumerSecret",
        "TWITTER_CONSUMER_SECRET",
        "twitterCallbackUrl",
        "TWITTER_CALLBACK_URL",
        "consumer",
        "OAuth",
        "Twitter",
        "get",
        "req",
        "res",
        "getOAuthRequestToken",
        "error",
        "oauthToken",
        "oauthTokenSecret",
        "results",
        "send",
        "session",
        "oauthRequestToken",
        "oauthRequestTokenSecret",
        "redirect",
        "redirectUrl",
        "post",
        "getOAuthAccessToken",
        "body",
        "oauth_token",
        "oauth_verifier",
        "oauthAccessToken",
        "oauthAccessTokenSecret",
        "client",
        "consumer_key",
        "consumer_secret",
        "access_token",
        "access_token_secret",
        "then",
        "user",
        "catch",
        "module",
        "exports"
      ],
      "mappings": "AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,MAAMC,QAAQ,GAAGH,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAMI,KAAK,GAAGJ,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMK,mBAAmB,GAAGC,OAAO,CAACC,GAAR,CAAYC,oBAAxC;AACA,MAAMC,sBAAsB,GAAGH,OAAO,CAACC,GAAR,CAAYG,uBAA3C;AACA,MAAMC,kBAAkB,GAAGL,OAAO,CAACC,GAAR,CAAYK,oBAAvC;AACA,MAAMC,QAAQ,GAAG,IAAIT,KAAK,CAACU,KAAV,CAAgB,yCAAhB,EAA2D,wCAA3D,EAAoGT,mBAApG,EAAyHI,sBAAzH,EAAiJ,MAAjJ,EAAyJE,kBAAzJ,EAA6K,WAA7K,CAAjB;;AAEA,MAAMI,OAAO,GAAGf,OAAO,CAAC,MAAD,CAAvB,C,CAGA;AACA;AACA;;;AAEAC,MAAM,CAACe,GAAP,CAAW,UAAX,EAAuB,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnCL,EAAAA,QAAQ,CAACM,oBAAT,CAA8B,UAAUC,KAAV,EAAiBC,UAAjB,EAA+BC,gBAA/B,EAAiDC,OAAjD,EAA0D;AACtF,QAAIH,KAAJ,EAAW;AACTF,MAAAA,GAAG,CAACM,IAAJ,CAASJ,KAAT,EAAgB,GAAhB;AACD,KAFD,MAEO;AACLH,MAAAA,GAAG,CAACQ,OAAJ,CAAYC,iBAAZ,GAAgCL,UAAhC;AACAJ,MAAAA,GAAG,CAACQ,OAAJ,CAAYE,uBAAZ,GAAsCL,gBAAtC;AACA,YAAMM,QAAQ,GAAG;AACvBC,QAAAA,WAAW,EAAG,mDAAkDZ,GAAG,CAACQ,OAAJ,CAAYC,iBAAkB;AADvE,OAAjB;AAGAR,MAAAA,GAAG,CAACM,IAAJ,CAASI,QAAT;AACD;AACF,GAXD;AAYD,CAbD;AAcA3B,MAAM,CAAC6B,IAAP,CAAY,mBAAZ,EAAiC,CAACb,GAAD,EAAMC,GAAN,KAAc;AAC7CL,EAAAA,QAAQ,CAACkB,mBAAT,CACAd,GAAG,CAACe,IAAJ,CAASC,WADT,EAEAhB,GAAG,CAACQ,OAAJ,CAAYE,uBAFZ,EAGAV,GAAG,CAACe,IAAJ,CAASE,cAHT,EAIA,CAACd,KAAD,EAAQe,gBAAR,EAA0BC,sBAA1B,EAAkDb,OAAlD,KAA8D;AAC5D,QAAIH,KAAJ,EAAW;AACV;AACCF,MAAAA,GAAG,CAACM,IAAJ,CAASJ,KAAT,EAAgB,GAAhB;AACD,KAHD,MAIK;AACJ;AACC;AACD;AAEC,YAAMiB,MAAM,GAAG,IAAItB,OAAJ,CAAY;AACzBuB,QAAAA,YAAY,EAAE,2BADW;AAEzBC,QAAAA,eAAe,EAAE,oDAFQ;AAGzBC,QAAAA,YAAY,EAAEL,gBAHW;AAIzBM,QAAAA,mBAAmB,EAAEL;AAJI,OAAZ,CAAf;AAOAC,MAAAA,MAAM,CAACrB,GAAP,CAAW,4BAAX,EAAyC0B,IAAzC,CAA8CC,IAAI,IAAI;AACpDzB,QAAAA,GAAG,CAACM,IAAJ,CAASmB,IAAT;AACD,OAFD,EAEGC,KAFH,CAESxB,KAAK,IAAI;AAChBF,QAAAA,GAAG,CAACM,IAAJ,CAASJ,KAAT;AACD,OAJD;AAQD;AACF,GA9BD;AA+BD,CAhCD;AAiCAyB,MAAM,CAACC,OAAP,GAAiB7C,MAAjB",
      "sourceRoot": "E:\\boomadvertisement\\serverapi\\routes\\",
      "sourcesContent": [
        "const express = require('express');\r\nconst router = express.Router();\r\nconst CryptoJS = require(\"crypto-js\");\r\nconst oauth = require('oauth');\r\nconst _twitterConsumerKey = process.env.TWITTER_CONSUMER_KEY;\r\nconst _twitterConsumerSecret = process.env.TWITTER_CONSUMER_SECRET;\r\nconst twitterCallbackUrl = process.env.TWITTER_CALLBACK_URL;\r\nconst consumer = new oauth.OAuth(\"https://twitter.com/oauth/request_token\", \"https://twitter.com/oauth/access_token\",_twitterConsumerKey, _twitterConsumerSecret, \"1.0A\", twitterCallbackUrl, \"HMAC-SHA1\");\r\n\r\nconst Twitter = require('twit');\r\n\r\n\r\n//var url = require('url');\r\n//var url_parts = url.parse(request.url, true);\r\n//var query = url_parts.query;\r\n\r\nrouter.get('/connect', (req, res) => {\r\n  consumer.getOAuthRequestToken(function (error, oauthToken,   oauthTokenSecret, results) {\r\n    if (error) {\r\n      res.send(error, 500);\r\n    } else {\r\n      req.session.oauthRequestToken = oauthToken;\r\n      req.session.oauthRequestTokenSecret = oauthTokenSecret;\r\n      const redirect = { \r\nredirectUrl: `https://twitter.com/oauth/authorize?oauth_token=${req.session.oauthRequestToken}`\r\n    }\r\n      res.send(redirect);\r\n    }\r\n  });\r\n});\r\nrouter.post('/saveAccessTokens', (req, res) => {\r\n  consumer.getOAuthAccessToken(\r\n  req.body.oauth_token,\r\n  req.session.oauthRequestTokenSecret,\r\n  req.body.oauth_verifier,\r\n  (error, oauthAccessToken, oauthAccessTokenSecret, results) => {\r\n    if (error) {\r\n     // logger.error(error);\r\n      res.send(error, 500);\r\n    }\r\n    else {\r\n     // req.session.oauthAccessToken = oauthAccessToken;\r\n      //req.session.oauthAccessTokenSecret = oauthAccessTokenSecret\r\n     // return res.send({ message: 'token saved' });\r\n\r\n      const client = new Twitter({\r\n        consumer_key: 'PwtlyF8xzKLgIPNDwS42nL87G',\r\n        consumer_secret: 'hg9QMATkfZp0ZW3K5TXRFvwfsMCe5JChzlbf2Tb3JjL7rJCWUc',\r\n        access_token: oauthAccessToken,\r\n        access_token_secret: oauthAccessTokenSecret\r\n      });\r\n\r\n      client.get('account/verify_credentials').then(user => {\r\n        res.send(user)\r\n      }).catch(error => {\r\n        res.send(error);\r\n      });\r\n\r\n\r\n\r\n    }\r\n  });\r\n});\r\nmodule.exports = router;"
      ]
    },
    "sourceType": "module",
    "mtime": 1609848035627
  }
}